/**
 * AgoraWebSDK_N-v4.23.2-1-0-g7fdaa39d-dirty Copyright AgoraInc.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).AgoraRTCReport={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n={exports:{}},i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||e||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=a,u=Function.prototype,E=u.apply,l=u.call,p="object"==typeof Reflect&&Reflect.apply||(c?l.bind(E):function(){return l.apply(E,arguments)}),d=a,h=Function.prototype,_=h.call,f=d&&h.bind.bind(_,_),T=d?f:function(t){return function(){return _.apply(t,arguments)}},R=T,A=R({}.toString),O=R("".slice),S=function(t){return O(A(t),8,-1)},I=S,m=T,N=function(t){if("Function"===I(t))return m(t)},g="object"==typeof document&&document.all,b={all:g,IS_HTMLDDA:void 0===g&&void 0!==g},C=b.all,y=b.IS_HTMLDDA?function(t){return"function"==typeof t||t===C}:function(t){return"function"==typeof t},L={},v=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),w=a,D=Function.prototype.call,P=w?D.bind(D):function(){return D.apply(D,arguments)},U={},M={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,k=x&&!M.call({1:2},1);U.f=k?function(t){var e=x(this,t);return!!e&&e.enumerable}:M;var F,V,B=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},W=s,G=S,j=Object,H=T("".split),K=W((function(){return!j("z").propertyIsEnumerable(0)}))?function(t){return"String"==G(t)?H(t,""):j(t)}:j,Y=function(t){return null==t},z=Y,J=TypeError,X=function(t){if(z(t))throw J("Can't call method on "+t);return t},q=K,Q=X,Z=function(t){return q(Q(t))},$=y,tt=b.all,et=b.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:$(t)||t===tt}:function(t){return"object"==typeof t?null!==t:$(t)},rt={},nt=rt,it=o,ot=y,st=function(t){return ot(t)?t:void 0},at=function(t,e){return arguments.length<2?st(nt[t])||st(it[t]):nt[t]&&nt[t][e]||it[t]&&it[t][e]},ct=T({}.isPrototypeOf),ut="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Et=o,lt=ut,pt=Et.process,dt=Et.Deno,ht=pt&&pt.versions||dt&&dt.version,_t=ht&&ht.v8;_t&&(V=(F=_t.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!V&&lt&&(!(F=lt.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=lt.match(/Chrome\/(\d+)/))&&(V=+F[1]);var ft=V,Tt=ft,Rt=s,At=o.String,Ot=!!Object.getOwnPropertySymbols&&!Rt((function(){var t=Symbol();return!At(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Tt&&Tt<41})),St=Ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=at,mt=y,Nt=ct,gt=Object,bt=St?function(t){return"symbol"==typeof t}:function(t){var e=It("Symbol");return mt(e)&&Nt(e.prototype,gt(t))},Ct=String,yt=function(t){try{return Ct(t)}catch(t){return"Object"}},Lt=y,vt=yt,wt=TypeError,Dt=function(t){if(Lt(t))return t;throw wt(vt(t)+" is not a function")},Pt=Dt,Ut=Y,Mt=function(t,e){var r=t[e];return Ut(r)?void 0:Pt(r)},xt=P,kt=y,Ft=et,Vt=TypeError,Bt={exports:{}},Wt=o,Gt=Object.defineProperty,jt=function(t,e){try{Gt(Wt,t,{value:e,configurable:!0,writable:!0})}catch(r){Wt[t]=e}return e},Ht="__core-js_shared__",Kt=o[Ht]||jt(Ht,{}),Yt=Kt;(Bt.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var zt=Bt.exports,Jt=X,Xt=Object,qt=function(t){return Xt(Jt(t))},Qt=qt,Zt=T({}.hasOwnProperty),$t=Object.hasOwn||function(t,e){return Zt(Qt(t),e)},te=T,ee=0,re=Math.random(),ne=te(1..toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++ee+re,36)},oe=zt,se=$t,ae=ie,ce=Ot,ue=St,Ee=o.Symbol,le=oe("wks"),pe=ue?Ee.for||Ee:Ee&&Ee.withoutSetter||ae,de=function(t){return se(le,t)||(le[t]=ce&&se(Ee,t)?Ee[t]:pe("Symbol."+t)),le[t]},he=P,_e=et,fe=bt,Te=Mt,Re=function(t,e){var r,n;if("string"===e&&kt(r=t.toString)&&!Ft(n=xt(r,t)))return n;if(kt(r=t.valueOf)&&!Ft(n=xt(r,t)))return n;if("string"!==e&&kt(r=t.toString)&&!Ft(n=xt(r,t)))return n;throw Vt("Can't convert object to primitive value")},Ae=TypeError,Oe=de("toPrimitive"),Se=function(t,e){if(!_e(t)||fe(t))return t;var r,n=Te(t,Oe);if(n){if(void 0===e&&(e="default"),r=he(n,t,e),!_e(r)||fe(r))return r;throw Ae("Can't convert object to primitive value")}return void 0===e&&(e="number"),Re(t,e)},Ie=bt,me=function(t){var e=Se(t,"string");return Ie(e)?e:e+""},Ne=et,ge=o.document,be=Ne(ge)&&Ne(ge.createElement),Ce=function(t){return be?ge.createElement(t):{}},ye=Ce,Le=!v&&!s((function(){return 7!=Object.defineProperty(ye("div"),"a",{get:function(){return 7}}).a})),ve=v,we=P,De=U,Pe=B,Ue=Z,Me=me,xe=$t,ke=Le,Fe=Object.getOwnPropertyDescriptor;L.f=ve?Fe:function(t,e){if(t=Ue(t),e=Me(e),ke)try{return Fe(t,e)}catch(t){}if(xe(t,e))return Pe(!we(De.f,t,e),t[e])};var Ve=s,Be=y,We=/#|\.prototype\./,Ge=function(t,e){var r=He[je(t)];return r==Ye||r!=Ke&&(Be(e)?Ve(e):!!e)},je=Ge.normalize=function(t){return String(t).replace(We,".").toLowerCase()},He=Ge.data={},Ke=Ge.NATIVE="N",Ye=Ge.POLYFILL="P",ze=Ge,Je=Dt,Xe=a,qe=N(N.bind),Qe=function(t,e){return Je(t),void 0===e?t:Xe?qe(t,e):function(){return t.apply(e,arguments)}},Ze={},$e=v&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),tr=et,er=String,rr=TypeError,nr=function(t){if(tr(t))return t;throw rr(er(t)+" is not an object")},ir=v,or=Le,sr=$e,ar=nr,cr=me,ur=TypeError,Er=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,pr="enumerable",dr="configurable",hr="writable";Ze.f=ir?sr?function(t,e,r){if(ar(t),e=cr(e),ar(r),"function"==typeof t&&"prototype"===e&&"value"in r&&hr in r&&!r[hr]){var n=lr(t,e);n&&n[hr]&&(t[e]=r.value,r={configurable:dr in r?r[dr]:n[dr],enumerable:pr in r?r[pr]:n[pr],writable:!1})}return Er(t,e,r)}:Er:function(t,e,r){if(ar(t),e=cr(e),ar(r),or)try{return Er(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ur("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var _r=Ze,fr=B,Tr=v?function(t,e,r){return _r.f(t,e,fr(1,r))}:function(t,e,r){return t[e]=r,t},Rr=o,Ar=p,Or=N,Sr=y,Ir=L.f,mr=ze,Nr=rt,gr=Qe,br=Tr,Cr=$t,yr=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return Ar(t,this,arguments)};return e.prototype=t.prototype,e},Lr=function(t,e){var r,n,i,o,s,a,c,u,E,l=t.target,p=t.global,d=t.stat,h=t.proto,_=p?Rr:d?Rr[l]:(Rr[l]||{}).prototype,f=p?Nr:Nr[l]||br(Nr,l,{})[l],T=f.prototype;for(o in e)n=!(r=mr(p?o:l+(d?".":"#")+o,t.forced))&&_&&Cr(_,o),a=f[o],n&&(c=t.dontCallGetSet?(E=Ir(_,o))&&E.value:_[o]),s=n&&c?c:e[o],n&&typeof a==typeof s||(u=t.bind&&n?gr(s,Rr):t.wrap&&n?yr(s):h&&Sr(s)?Or(s):s,(t.sham||s&&s.sham||a&&a.sham)&&br(u,"sham",!0),br(f,o,u),h&&(Cr(Nr,i=l+"Prototype")||br(Nr,i,{}),br(Nr[i],o,s),t.real&&T&&(r||!T[o])&&br(T,o,s)))},vr=Lr,wr=v,Dr=Ze.f;vr({target:"Object",stat:!0,forced:Object.defineProperty!==Dr,sham:!wr},{defineProperty:Dr});var Pr=rt.Object,Ur=n.exports=function(t,e,r){return Pr.defineProperty(t,e,r)};Pr.defineProperty.sham&&(Ur.sham=!0);var Mr=r(n.exports),xr=S,kr=Array.isArray||function(t){return"Array"==xr(t)},Fr=Math.ceil,Vr=Math.floor,Br=Math.trunc||function(t){var e=+t;return(e>0?Vr:Fr)(e)},Wr=function(t){var e=+t;return e!=e||0===e?0:Br(e)},Gr=Wr,jr=Math.min,Hr=function(t){return t>0?jr(Gr(t),9007199254740991):0},Kr=function(t){return Hr(t.length)},Yr=TypeError,zr=me,Jr=Ze,Xr=B,qr=function(t,e,r){var n=zr(e);n in t?Jr.f(t,n,Xr(0,r)):t[n]=r},Qr={};Qr[de("toStringTag")]="z";var Zr="[object z]"===String(Qr),$r=Zr,tn=y,en=S,rn=de("toStringTag"),nn=Object,on="Arguments"==en(function(){return arguments}()),sn=$r?en:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=nn(t),rn))?r:on?en(e):"Object"==(n=en(e))&&tn(e.callee)?"Arguments":n},an=y,cn=Kt,un=T(Function.toString);an(cn.inspectSource)||(cn.inspectSource=function(t){return un(t)});var En=cn.inspectSource,ln=T,pn=s,dn=y,hn=sn,_n=En,fn=function(){},Tn=[],Rn=at("Reflect","construct"),An=/^\s*(?:class|function)\b/,On=ln(An.exec),Sn=!An.exec(fn),In=function(t){if(!dn(t))return!1;try{return Rn(fn,Tn,t),!0}catch(t){return!1}},mn=function(t){if(!dn(t))return!1;switch(hn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Sn||!!On(An,_n(t))}catch(t){return!0}};mn.sham=!0;var Nn=!Rn||pn((function(){var t;return In(In.call)||!In(Object)||!In((function(){t=!0}))||t}))?mn:In,gn=kr,bn=Nn,Cn=et,yn=de("species"),Ln=Array,vn=function(t){var e;return gn(t)&&(e=t.constructor,(bn(e)&&(e===Ln||gn(e.prototype))||Cn(e)&&null===(e=e[yn]))&&(e=void 0)),void 0===e?Ln:e},wn=function(t,e){return new(vn(t))(0===e?0:e)},Dn=s,Pn=ft,Un=de("species"),Mn=Lr,xn=s,kn=kr,Fn=et,Vn=qt,Bn=Kr,Wn=function(t){if(t>9007199254740991)throw Yr("Maximum allowed index exceeded");return t},Gn=qr,jn=wn,Hn=function(t){return Pn>=51||!Dn((function(){var e=[];return(e.constructor={})[Un]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Kn=ft,Yn=de("isConcatSpreadable"),zn=Kn>=51||!xn((function(){var t=[];return t[Yn]=!1,t.concat()[0]!==t})),Jn=function(t){if(!Fn(t))return!1;var e=t[Yn];return void 0!==e?!!e:kn(t)};Mn({target:"Array",proto:!0,arity:1,forced:!zn||!Hn("concat")},{concat:function(t){var e,r,n,i,o,s=Vn(this),a=jn(s,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Jn(o=-1===e?s:arguments[e]))for(i=Bn(o),Wn(c+i),r=0;r<i;r++,c++)r in o&&Gn(a,c,o[r]);else Wn(c+1),Gn(a,c++,o);return a.length=c,a}});var Xn=sn,qn=String,Qn=function(t){if("Symbol"===Xn(t))throw TypeError("Cannot convert a Symbol value to a string");return qn(t)},Zn={},$n=Wr,ti=Math.max,ei=Math.min,ri=function(t,e){var r=$n(t);return r<0?ti(r+e,0):ei(r,e)},ni=Z,ii=ri,oi=Kr,si=function(t){return function(e,r,n){var i,o=ni(e),s=oi(o),a=ii(n,s);if(t&&r!=r){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===r)return t||a||0;return!t&&-1}},ai={includes:si(!0),indexOf:si(!1)},ci={},ui=$t,Ei=Z,li=ai.indexOf,pi=ci,di=T([].push),hi=function(t,e){var r,n=Ei(t),i=0,o=[];for(r in n)!ui(pi,r)&&ui(n,r)&&di(o,r);for(;e.length>i;)ui(n,r=e[i++])&&(~li(o,r)||di(o,r));return o},_i=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fi=hi,Ti=_i,Ri=Object.keys||function(t){return fi(t,Ti)},Ai=v,Oi=$e,Si=Ze,Ii=nr,mi=Z,Ni=Ri;Zn.f=Ai&&!Oi?Object.defineProperties:function(t,e){Ii(t);for(var r,n=mi(e),i=Ni(e),o=i.length,s=0;o>s;)Si.f(t,r=i[s++],n[r]);return t};var gi,bi=at("document","documentElement"),Ci=ie,yi=zt("keys"),Li=function(t){return yi[t]||(yi[t]=Ci(t))},vi=nr,wi=Zn,Di=_i,Pi=ci,Ui=bi,Mi=Ce,xi="prototype",ki="script",Fi=Li("IE_PROTO"),Vi=function(){},Bi=function(t){return"<"+ki+">"+t+"</"+ki+">"},Wi=function(t){t.write(Bi("")),t.close();var e=t.parentWindow.Object;return t=null,e},Gi=function(){try{gi=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Gi="undefined"!=typeof document?document.domain&&gi?Wi(gi):(e=Mi("iframe"),r="java"+ki+":",e.style.display="none",Ui.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Bi("document.F=Object")),t.close(),t.F):Wi(gi);for(var n=Di.length;n--;)delete Gi[xi][Di[n]];return Gi()};Pi[Fi]=!0;var ji=Object.create||function(t,e){var r;return null!==t?(Vi[xi]=vi(t),r=new Vi,Vi[xi]=null,r[Fi]=t):r=Gi(),void 0===e?r:wi.f(r,e)},Hi={},Ki=hi,Yi=_i.concat("length","prototype");Hi.f=Object.getOwnPropertyNames||function(t){return Ki(t,Yi)};var zi={},Ji=ri,Xi=Kr,qi=qr,Qi=Array,Zi=Math.max,$i=function(t,e,r){for(var n=Xi(t),i=Ji(e,n),o=Ji(void 0===r?n:r,n),s=Qi(Zi(o-i,0)),a=0;i<o;i++,a++)qi(s,a,t[i]);return s.length=a,s},to=S,eo=Z,ro=Hi.f,no=$i,io="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];zi.f=function(t){return io&&"Window"==to(t)?function(t){try{return ro(t)}catch(t){return no(io)}}(t):ro(eo(t))};var oo={};oo.f=Object.getOwnPropertySymbols;var so=Tr,ao=function(t,e,r,n){return n&&n.enumerable?t[e]=r:so(t,e,r),t},co=Ze,uo=function(t,e,r){return co.f(t,e,r)},Eo={},lo=de;Eo.f=lo;var po,ho,_o,fo=rt,To=$t,Ro=Eo,Ao=Ze.f,Oo=function(t){var e=fo.Symbol||(fo.Symbol={});To(e,t)||Ao(e,t,{value:Ro.f(t)})},So=P,Io=at,mo=de,No=ao,go=function(){var t=Io("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=mo("toPrimitive");e&&!e[n]&&No(e,n,(function(t){return So(r,this)}),{arity:1})},bo=sn,Co=Zr?{}.toString:function(){return"[object "+bo(this)+"]"},yo=Zr,Lo=Ze.f,vo=Tr,wo=$t,Do=Co,Po=de("toStringTag"),Uo=function(t,e,r,n){if(t){var i=r?t:t.prototype;wo(i,Po)||Lo(i,Po,{configurable:!0,value:e}),n&&!yo&&vo(i,"toString",Do)}},Mo=y,xo=o.WeakMap,ko=Mo(xo)&&/native code/.test(String(xo)),Fo=o,Vo=et,Bo=Tr,Wo=$t,Go=Kt,jo=Li,Ho=ci,Ko="Object already initialized",Yo=Fo.TypeError,zo=Fo.WeakMap;if(ko||Go.state){var Jo=Go.state||(Go.state=new zo);Jo.get=Jo.get,Jo.has=Jo.has,Jo.set=Jo.set,po=function(t,e){if(Jo.has(t))throw Yo(Ko);return e.facade=t,Jo.set(t,e),e},ho=function(t){return Jo.get(t)||{}},_o=function(t){return Jo.has(t)}}else{var Xo=jo("state");Ho[Xo]=!0,po=function(t,e){if(Wo(t,Xo))throw Yo(Ko);return e.facade=t,Bo(t,Xo,e),e},ho=function(t){return Wo(t,Xo)?t[Xo]:{}},_o=function(t){return Wo(t,Xo)}}var qo={set:po,get:ho,has:_o,enforce:function(t){return _o(t)?ho(t):po(t,{})},getterFor:function(t){return function(e){var r;if(!Vo(e)||(r=ho(e)).type!==t)throw Yo("Incompatible receiver, "+t+" required");return r}}},Qo=Qe,Zo=K,$o=qt,ts=Kr,es=wn,rs=T([].push),ns=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,s=7==t,a=5==t||o;return function(c,u,E,l){for(var p,d,h=$o(c),_=Zo(h),f=Qo(u,E),T=ts(_),R=0,A=l||es,O=e?A(c,T):r||s?A(c,0):void 0;T>R;R++)if((a||R in _)&&(d=f(p=_[R],R,h),t))if(e)O[R]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return R;case 2:rs(O,p)}else switch(t){case 4:return!1;case 7:rs(O,p)}return o?-1:n||i?i:O}},is={forEach:ns(0),map:ns(1),filter:ns(2),some:ns(3),every:ns(4),find:ns(5),findIndex:ns(6),filterReject:ns(7)},os=Lr,ss=o,as=P,cs=T,us=v,Es=Ot,ls=s,ps=$t,ds=ct,hs=nr,_s=Z,fs=me,Ts=Qn,Rs=B,As=ji,Os=Ri,Ss=Hi,Is=zi,ms=oo,Ns=L,gs=Ze,bs=Zn,Cs=U,ys=ao,Ls=uo,vs=zt,ws=ci,Ds=ie,Ps=de,Us=Eo,Ms=Oo,xs=go,ks=Uo,Fs=qo,Vs=is.forEach,Bs=Li("hidden"),Ws="Symbol",Gs="prototype",js=Fs.set,Hs=Fs.getterFor(Ws),Ks=Object[Gs],Ys=ss.Symbol,zs=Ys&&Ys[Gs],Js=ss.TypeError,Xs=ss.QObject,qs=Ns.f,Qs=gs.f,Zs=Is.f,$s=Cs.f,ta=cs([].push),ea=vs("symbols"),ra=vs("op-symbols"),na=vs("wks"),ia=!Xs||!Xs[Gs]||!Xs[Gs].findChild,oa=us&&ls((function(){return 7!=As(Qs({},"a",{get:function(){return Qs(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=qs(Ks,e);n&&delete Ks[e],Qs(t,e,r),n&&t!==Ks&&Qs(Ks,e,n)}:Qs,sa=function(t,e){var r=ea[t]=As(zs);return js(r,{type:Ws,tag:t,description:e}),us||(r.description=e),r},aa=function(t,e,r){t===Ks&&aa(ra,e,r),hs(t);var n=fs(e);return hs(r),ps(ea,n)?(r.enumerable?(ps(t,Bs)&&t[Bs][n]&&(t[Bs][n]=!1),r=As(r,{enumerable:Rs(0,!1)})):(ps(t,Bs)||Qs(t,Bs,Rs(1,{})),t[Bs][n]=!0),oa(t,n,r)):Qs(t,n,r)},ca=function(t,e){hs(t);var r=_s(e),n=Os(r).concat(pa(r));return Vs(n,(function(e){us&&!as(ua,r,e)||aa(t,e,r[e])})),t},ua=function(t){var e=fs(t),r=as($s,this,e);return!(this===Ks&&ps(ea,e)&&!ps(ra,e))&&(!(r||!ps(this,e)||!ps(ea,e)||ps(this,Bs)&&this[Bs][e])||r)},Ea=function(t,e){var r=_s(t),n=fs(e);if(r!==Ks||!ps(ea,n)||ps(ra,n)){var i=qs(r,n);return!i||!ps(ea,n)||ps(r,Bs)&&r[Bs][n]||(i.enumerable=!0),i}},la=function(t){var e=Zs(_s(t)),r=[];return Vs(e,(function(t){ps(ea,t)||ps(ws,t)||ta(r,t)})),r},pa=function(t){var e=t===Ks,r=Zs(e?ra:_s(t)),n=[];return Vs(r,(function(t){!ps(ea,t)||e&&!ps(Ks,t)||ta(n,ea[t])})),n};Es||(Ys=function(){if(ds(zs,this))throw Js("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Ts(arguments[0]):void 0,e=Ds(t),r=function(t){this===Ks&&as(r,ra,t),ps(this,Bs)&&ps(this[Bs],e)&&(this[Bs][e]=!1),oa(this,e,Rs(1,t))};return us&&ia&&oa(Ks,e,{configurable:!0,set:r}),sa(e,t)},ys(zs=Ys[Gs],"toString",(function(){return Hs(this).tag})),ys(Ys,"withoutSetter",(function(t){return sa(Ds(t),t)})),Cs.f=ua,gs.f=aa,bs.f=ca,Ns.f=Ea,Ss.f=Is.f=la,ms.f=pa,Us.f=function(t){return sa(Ps(t),t)},us&&Ls(zs,"description",{configurable:!0,get:function(){return Hs(this).description}})),os({global:!0,constructor:!0,wrap:!0,forced:!Es,sham:!Es},{Symbol:Ys}),Vs(Os(na),(function(t){Ms(t)})),os({target:Ws,stat:!0,forced:!Es},{useSetter:function(){ia=!0},useSimple:function(){ia=!1}}),os({target:"Object",stat:!0,forced:!Es,sham:!us},{create:function(t,e){return void 0===e?As(t):ca(As(t),e)},defineProperty:aa,defineProperties:ca,getOwnPropertyDescriptor:Ea}),os({target:"Object",stat:!0,forced:!Es},{getOwnPropertyNames:la}),xs(),ks(Ys,Ws),ws[Bs]=!0;var da=Ot&&!!Symbol.for&&!!Symbol.keyFor,ha=Lr,_a=at,fa=$t,Ta=Qn,Ra=zt,Aa=da,Oa=Ra("string-to-symbol-registry"),Sa=Ra("symbol-to-string-registry");ha({target:"Symbol",stat:!0,forced:!Aa},{for:function(t){var e=Ta(t);if(fa(Oa,e))return Oa[e];var r=_a("Symbol")(e);return Oa[e]=r,Sa[r]=e,r}});var Ia=Lr,ma=$t,Na=bt,ga=yt,ba=da,Ca=zt("symbol-to-string-registry");Ia({target:"Symbol",stat:!0,forced:!ba},{keyFor:function(t){if(!Na(t))throw TypeError(ga(t)+" is not a symbol");if(ma(Ca,t))return Ca[t]}});var ya=T([].slice),La=kr,va=y,wa=S,Da=Qn,Pa=T([].push),Ua=Lr,Ma=at,xa=p,ka=P,Fa=T,Va=s,Ba=y,Wa=bt,Ga=ya,ja=function(t){if(va(t))return t;if(La(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];"string"==typeof i?Pa(r,i):"number"!=typeof i&&"Number"!=wa(i)&&"String"!=wa(i)||Pa(r,Da(i))}var o=r.length,s=!0;return function(t,e){if(s)return s=!1,e;if(La(this))return e;for(var n=0;n<o;n++)if(r[n]===t)return e}}},Ha=Ot,Ka=String,Ya=Ma("JSON","stringify"),za=Fa(/./.exec),Ja=Fa("".charAt),Xa=Fa("".charCodeAt),qa=Fa("".replace),Qa=Fa(1..toString),Za=/[\uD800-\uDFFF]/g,$a=/^[\uD800-\uDBFF]$/,tc=/^[\uDC00-\uDFFF]$/,ec=!Ha||Va((function(){var t=Ma("Symbol")();return"[null]"!=Ya([t])||"{}"!=Ya({a:t})||"{}"!=Ya(Object(t))})),rc=Va((function(){return'"\\udf06\\ud834"'!==Ya("\udf06\ud834")||'"\\udead"'!==Ya("\udead")})),nc=function(t,e){var r=Ga(arguments),n=ja(e);if(Ba(n)||void 0!==t&&!Wa(t))return r[1]=function(t,e){if(Ba(n)&&(e=ka(n,this,Ka(t),e)),!Wa(e))return e},xa(Ya,null,r)},ic=function(t,e,r){var n=Ja(r,e-1),i=Ja(r,e+1);return za($a,t)&&!za(tc,i)||za(tc,t)&&!za($a,n)?"\\u"+Qa(Xa(t,0),16):t};Ya&&Ua({target:"JSON",stat:!0,arity:3,forced:ec||rc},{stringify:function(t,e,r){var n=Ga(arguments),i=xa(ec?nc:Ya,null,n);return rc&&"string"==typeof i?qa(i,Za,ic):i}});var oc=oo,sc=qt;Lr({target:"Object",stat:!0,forced:!Ot||s((function(){oc.f(1)}))},{getOwnPropertySymbols:function(t){var e=oc.f;return e?e(sc(t)):[]}}),Oo("asyncIterator"),Oo("hasInstance"),Oo("isConcatSpreadable"),Oo("iterator"),Oo("match"),Oo("matchAll"),Oo("replace"),Oo("search"),Oo("species"),Oo("split");var ac=go;Oo("toPrimitive"),ac();var cc=at,uc=Uo;Oo("toStringTag"),uc(cc("Symbol"),"Symbol"),Oo("unscopables"),Uo(o.JSON,"JSON",!0);var Ec,lc,pc,dc=rt.Symbol,hc={},_c=v,fc=$t,Tc=Function.prototype,Rc=_c&&Object.getOwnPropertyDescriptor,Ac=fc(Tc,"name"),Oc={EXISTS:Ac,PROPER:Ac&&"something"===function(){}.name,CONFIGURABLE:Ac&&(!_c||_c&&Rc(Tc,"name").configurable)},Sc=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ic=$t,mc=y,Nc=qt,gc=Sc,bc=Li("IE_PROTO"),Cc=Object,yc=Cc.prototype,Lc=gc?Cc.getPrototypeOf:function(t){var e=Nc(t);if(Ic(e,bc))return e[bc];var r=e.constructor;return mc(r)&&e instanceof r?r.prototype:e instanceof Cc?yc:null},vc=s,wc=y,Dc=et,Pc=ji,Uc=Lc,Mc=ao,xc=de("iterator"),kc=!1;[].keys&&("next"in(pc=[].keys())?(lc=Uc(Uc(pc)))!==Object.prototype&&(Ec=lc):kc=!0);var Fc=!Dc(Ec)||vc((function(){var t={};return Ec[xc].call(t)!==t}));wc((Ec=Fc?{}:Pc(Ec))[xc])||Mc(Ec,xc,(function(){return this}));var Vc={IteratorPrototype:Ec,BUGGY_SAFARI_ITERATORS:kc},Bc=Vc.IteratorPrototype,Wc=ji,Gc=B,jc=Uo,Hc=hc,Kc=function(){return this},Yc=T,zc=Dt,Jc=y,Xc=String,qc=TypeError,Qc=function(t,e,r){try{return Yc(zc(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},Zc=nr,$c=function(t){if("object"==typeof t||Jc(t))return t;throw qc("Can't set "+Xc(t)+" as a prototype")},tu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Qc(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Zc(r),$c(n),e?t(r,n):r.__proto__=n,r}}():void 0),eu=Lr,ru=P,nu=Oc,iu=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Wc(Bc,{next:Gc(+!n,r)}),jc(t,i,!1,!0),Hc[i]=Kc,t},ou=Lc,su=Uo,au=ao,cu=hc,uu=Vc,Eu=nu.PROPER,lu=uu.BUGGY_SAFARI_ITERATORS,pu=de("iterator"),du="keys",hu="values",_u="entries",fu=function(){return this},Tu=function(t,e,r,n,i,o,s){iu(r,e,n);var a,c,u,E=function(t){if(t===i&&_)return _;if(!lu&&t in d)return d[t];switch(t){case du:case hu:case _u:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,d=t.prototype,h=d[pu]||d["@@iterator"]||i&&d[i],_=!lu&&h||E(i),f="Array"==e&&d.entries||h;if(f&&(a=ou(f.call(new t)))!==Object.prototype&&a.next&&(su(a,l,!0,!0),cu[l]=fu),Eu&&i==hu&&h&&h.name!==hu&&(p=!0,_=function(){return ru(h,this)}),i)if(c={values:E(hu),keys:o?_:E(du),entries:E(_u)},s)for(u in c)(lu||p||!(u in d))&&au(d,u,c[u]);else eu({target:e,proto:!0,forced:lu||p},c);return s&&d[pu]!==_&&au(d,pu,_,{name:i}),cu[e]=_,c},Ru=function(t,e){return{value:t,done:e}},Au=Z,Ou=hc,Su=qo;Ze.f;var Iu=Tu,mu=Ru,Nu="Array Iterator",gu=Su.set,bu=Su.getterFor(Nu);Iu(Array,"Array",(function(t,e){gu(this,{type:Nu,target:Au(t),index:0,kind:e})}),(function(){var t=bu(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,mu(void 0,!0)):mu("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values"),Ou.Arguments=Ou.Array;var Cu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yu=o,Lu=sn,vu=Tr,wu=hc,Du=de("toStringTag");for(var Pu in Cu){var Uu=yu[Pu],Mu=Uu&&Uu.prototype;Mu&&Lu(Mu)!==Du&&vu(Mu,Du,Pu),wu[Pu]=wu.Array}var xu=dc,ku=de,Fu=Ze.f,Vu=ku("metadata"),Bu=Function.prototype;void 0===Bu[Vu]&&Fu(Bu,Vu,{value:null}),Oo("dispose"),Oo("metadata");var Wu=xu;Oo("asyncDispose");var Gu=T,ju=at("Symbol"),Hu=ju.keyFor,Ku=Gu(ju.prototype.valueOf),Yu=ju.isRegisteredSymbol||function(t){try{return void 0!==Hu(Ku(t))}catch(t){return!1}};Lr({target:"Symbol",stat:!0},{isRegisteredSymbol:Yu});for(var zu=zt,Ju=at,Xu=T,qu=bt,Qu=de,Zu=Ju("Symbol"),$u=Zu.isWellKnownSymbol,tE=Ju("Object","getOwnPropertyNames"),eE=Xu(Zu.prototype.valueOf),rE=zu("wks"),nE=0,iE=tE(Zu),oE=iE.length;nE<oE;nE++)try{var sE=iE[nE];qu(Zu[sE])&&Qu(sE)}catch(t){}var aE=function(t){if($u&&$u(t))return!0;try{for(var e=eE(t),r=0,n=tE(rE),i=n.length;r<i;r++)if(rE[n[r]]==e)return!0}catch(t){}return!1};Lr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:aE}),Oo("matcher"),Oo("observable"),Lr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Yu}),Lr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:aE}),Oo("metadataKey"),Oo("patternMatch"),Oo("replaceAll");var cE=r(Wu),uE=T,EE=Wr,lE=Qn,pE=X,dE=uE("".charAt),hE=uE("".charCodeAt),_E=uE("".slice),fE=function(t){return function(e,r){var n,i,o=lE(pE(e)),s=EE(r),a=o.length;return s<0||s>=a?t?"":void 0:(n=hE(o,s))<55296||n>56319||s+1===a||(i=hE(o,s+1))<56320||i>57343?t?dE(o,s):n:t?_E(o,s,s+2):i-56320+(n-55296<<10)+65536}},TE={codeAt:fE(!1),charAt:fE(!0)}.charAt,RE=Qn,AE=qo,OE=Tu,SE=Ru,IE="String Iterator",mE=AE.set,NE=AE.getterFor(IE);OE(String,"String",(function(t){mE(this,{type:IE,string:RE(t),index:0})}),(function(){var t,e=NE(this),r=e.string,n=e.index;return n>=r.length?SE(void 0,!0):(t=TE(r,n),e.index+=t.length,SE(t,!1))}));var gE=r(Eo.f("iterator"));function bE(t){return bE="function"==typeof cE&&"symbol"==typeof gE?function(t){return typeof t}:function(t){return t&&"function"==typeof cE&&t.constructor===cE&&t!==cE.prototype?"symbol":typeof t},bE(t)}var CE=r(Eo.f("toPrimitive"));function yE(t){var e=function(t,e){if("object"!==bE(t)||null===t)return t;var r=t[CE];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==bE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===bE(e)?e:String(e)}function LE(t,e,r){return(e=yE(e))in t?Mr(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vE=rt,wE=function(t){return vE[t+"Prototype"]},DE=wE("Array").keys,PE=sn,UE=$t,ME=ct,xE=DE,kE=Array.prototype,FE={DOMTokenList:!0,NodeList:!0},VE=r((function(t){var e=t.keys;return t===kE||ME(kE,t)&&e===kE.keys||UE(FE,PE(t))?xE:e})),BE=ai.includes;Lr({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return BE(this,t,arguments.length>1?arguments[1]:void 0)}});var WE=wE("Array").includes,GE=et,jE=S,HE=de("match"),KE=function(t){var e;return GE(t)&&(void 0!==(e=t[HE])?!!e:"RegExp"==jE(t))},YE=TypeError,zE=de("match"),JE=Lr,XE=function(t){if(KE(t))throw YE("The method doesn't accept regular expressions");return t},qE=X,QE=Qn,ZE=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[zE]=!1,"/./"[t](e)}catch(t){}}return!1},$E=T("".indexOf);JE({target:"String",proto:!0,forced:!ZE("includes")},{includes:function(t){return!!~$E(QE(qE(this)),QE(XE(t)),arguments.length>1?arguments[1]:void 0)}});var tl=wE("String").includes,el=ct,rl=WE,nl=tl,il=Array.prototype,ol=String.prototype,sl=r((function(t){var e=t.includes;return t===il||el(il,t)&&e===il.includes?rl:"string"==typeof t||t===ol||el(ol,t)&&e===ol.includes?nl:e})),al=yt,cl=TypeError,ul=$i,El=Math.floor,ll=function(t,e){var r=t.length,n=El(r/2);return r<8?pl(t,e):dl(t,ll(ul(t,0,n),e),ll(ul(t,n),e),e)},pl=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},dl=function(t,e,r,n){for(var i=e.length,o=r.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?n(e[s],r[a])<=0?e[s++]:r[a++]:s<i?e[s++]:r[a++];return t},hl=ll,_l=s,fl=ut.match(/firefox\/(\d+)/i),Tl=!!fl&&+fl[1],Rl=/MSIE|Trident/.test(ut),Al=ut.match(/AppleWebKit\/(\d+)\./),Ol=!!Al&&+Al[1],Sl=Lr,Il=T,ml=Dt,Nl=qt,gl=Kr,bl=function(t,e){if(!delete t[e])throw cl("Cannot delete property "+al(e)+" of "+al(t))},Cl=Qn,yl=s,Ll=hl,vl=function(t,e){var r=[][t];return!!r&&_l((function(){r.call(null,e||function(){return 1},1)}))},wl=Tl,Dl=Rl,Pl=ft,Ul=Ol,Ml=[],xl=Il(Ml.sort),kl=Il(Ml.push),Fl=yl((function(){Ml.sort(void 0)})),Vl=yl((function(){Ml.sort(null)})),Bl=vl("sort"),Wl=!yl((function(){if(Pl)return Pl<70;if(!(wl&&wl>3)){if(Dl)return!0;if(Ul)return Ul<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Ml.push({k:e+n,v:r})}for(Ml.sort((function(t,e){return e.v-t.v})),n=0;n<Ml.length;n++)e=Ml[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));Sl({target:"Array",proto:!0,forced:Fl||!Vl||!Bl||!Wl},{sort:function(t){void 0!==t&&ml(t);var e=Nl(this);if(Wl)return void 0===t?xl(e):xl(e,t);var r,n,i=[],o=gl(e);for(n=0;n<o;n++)n in e&&kl(i,e[n]);for(Ll(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Cl(e)>Cl(r)?1:-1}}(t)),r=gl(i),n=0;n<r;)e[n]=i[n++];for(;n<o;)bl(e,n++);return e}});var Gl=wE("Array").sort,jl=ct,Hl=Gl,Kl=Array.prototype,Yl=r((function(t){var e=t.sort;return t===Kl||jl(Kl,t)&&e===Kl.sort?Hl:e})),zl=at,Jl=Hi,Xl=oo,ql=nr,Ql=T([].concat),Zl=zl("Reflect","ownKeys")||function(t){var e=Jl.f(ql(t)),r=Xl.f;return r?Ql(e,r(t)):e},$l=$t,tp=Zl,ep=L,rp=Ze,np=et,ip=Tr,op=Error,sp=T("".replace),ap=String(op("zxcasd").stack),cp=/\n\s*at [^:]*:[^\n]*/,up=cp.test(ap),Ep=B,lp=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Ep(1,7)),7!==t.stack)})),pp=Tr,dp=function(t,e){if(up&&"string"==typeof t&&!op.prepareStackTrace)for(;e--;)t=sp(t,cp,"");return t},hp=lp,_p=Error.captureStackTrace,fp=hc,Tp=de("iterator"),Rp=Array.prototype,Ap=sn,Op=Mt,Sp=Y,Ip=hc,mp=de("iterator"),Np=function(t){if(!Sp(t))return Op(t,mp)||Op(t,"@@iterator")||Ip[Ap(t)]},gp=P,bp=Dt,Cp=nr,yp=yt,Lp=Np,vp=TypeError,wp=P,Dp=nr,Pp=Mt,Up=Qe,Mp=P,xp=nr,kp=yt,Fp=function(t){return void 0!==t&&(fp.Array===t||Rp[Tp]===t)},Vp=Kr,Bp=ct,Wp=function(t,e){var r=arguments.length<2?Lp(t):e;if(bp(r))return Cp(gp(r,t));throw vp(yp(t)+" is not iterable")},Gp=Np,jp=function(t,e,r){var n,i;Dp(t);try{if(!(n=Pp(t,"return"))){if("throw"===e)throw r;return r}n=wp(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return Dp(n),r},Hp=TypeError,Kp=function(t,e){this.stopped=t,this.result=e},Yp=Kp.prototype,zp=function(t,e,r){var n,i,o,s,a,c,u,E=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),_=Up(e,E),f=function(t){return n&&jp(n,"normal",t),new Kp(!0,t)},T=function(t){return l?(xp(t),h?_(t[0],t[1],f):_(t[0],t[1])):h?_(t,f):_(t)};if(p)n=t.iterator;else if(d)n=t;else{if(!(i=Gp(t)))throw Hp(kp(t)+" is not iterable");if(Fp(i)){for(o=0,s=Vp(t);s>o;o++)if((a=T(t[o]))&&Bp(Yp,a))return a;return new Kp(!1)}n=Wp(t,i)}for(c=p?t.next:n.next;!(u=Mp(c,n)).done;){try{a=T(u.value)}catch(t){jp(n,"throw",t)}if("object"==typeof a&&a&&Bp(Yp,a))return a}return new Kp(!1)},Jp=Qn,Xp=Lr,qp=ct,Qp=Lc,Zp=tu,$p=function(t,e,r){for(var n=tp(e),i=rp.f,o=ep.f,s=0;s<n.length;s++){var a=n[s];$l(t,a)||r&&$l(r,a)||i(t,a,o(e,a))}},td=ji,ed=Tr,rd=B,nd=function(t,e){np(e)&&"cause"in e&&ip(t,"cause",e.cause)},id=function(t,e,r,n){hp&&(_p?_p(t,e):pp(t,"stack",dp(r,n)))},od=zp,sd=function(t,e){return void 0===t?arguments.length<2?"":e:Jp(t)},ad=de("toStringTag"),cd=Error,ud=[].push,Ed=function(t,e){var r,n=qp(ld,this);Zp?r=Zp(cd(),n?Qp(this):ld):(r=n?this:td(ld),ed(r,ad,"Error")),void 0!==e&&ed(r,"message",sd(e)),id(r,Ed,r.stack,1),arguments.length>2&&nd(r,arguments[2]);var i=[];return od(t,ud,{that:i}),ed(r,"errors",i),r};Zp?Zp(Ed,cd):$p(Ed,cd,{name:!0});var ld=Ed.prototype=td(cd.prototype,{constructor:rd(1,Ed),message:rd(1,""),name:rd(1,"AggregateError")});Xp({global:!0,constructor:!0,arity:2},{AggregateError:Ed});var pd,dd,hd,_d,fd="undefined"!=typeof process&&"process"==S(process),Td=at,Rd=uo,Ad=v,Od=de("species"),Sd=ct,Id=TypeError,md=Nn,Nd=yt,gd=TypeError,bd=nr,Cd=function(t){if(md(t))return t;throw gd(Nd(t)+" is not a constructor")},yd=Y,Ld=de("species"),vd=function(t,e){var r,n=bd(t).constructor;return void 0===n||yd(r=bd(n)[Ld])?e:Cd(r)},wd=TypeError,Dd=/(?:ipad|iphone|ipod).*applewebkit/i.test(ut),Pd=o,Ud=p,Md=Qe,xd=y,kd=$t,Fd=s,Vd=bi,Bd=ya,Wd=Ce,Gd=function(t,e){if(t<e)throw wd("Not enough arguments");return t},jd=Dd,Hd=fd,Kd=Pd.setImmediate,Yd=Pd.clearImmediate,zd=Pd.process,Jd=Pd.Dispatch,Xd=Pd.Function,qd=Pd.MessageChannel,Qd=Pd.String,Zd=0,$d={},th="onreadystatechange";Fd((function(){pd=Pd.location}));var eh=function(t){if(kd($d,t)){var e=$d[t];delete $d[t],e()}},rh=function(t){return function(){eh(t)}},nh=function(t){eh(t.data)},ih=function(t){Pd.postMessage(Qd(t),pd.protocol+"//"+pd.host)};Kd&&Yd||(Kd=function(t){Gd(arguments.length,1);var e=xd(t)?t:Xd(t),r=Bd(arguments,1);return $d[++Zd]=function(){Ud(e,void 0,r)},dd(Zd),Zd},Yd=function(t){delete $d[t]},Hd?dd=function(t){zd.nextTick(rh(t))}:Jd&&Jd.now?dd=function(t){Jd.now(rh(t))}:qd&&!jd?(_d=(hd=new qd).port2,hd.port1.onmessage=nh,dd=Md(_d.postMessage,_d)):Pd.addEventListener&&xd(Pd.postMessage)&&!Pd.importScripts&&pd&&"file:"!==pd.protocol&&!Fd(ih)?(dd=ih,Pd.addEventListener("message",nh,!1)):dd=th in Wd("script")?function(t){Vd.appendChild(Wd("script"))[th]=function(){Vd.removeChild(this),eh(t)}}:function(t){setTimeout(rh(t),0)});var oh={set:Kd,clear:Yd},sh=function(){this.head=null,this.tail=null};sh.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var ah,ch,uh,Eh,lh,ph=sh,dh=/ipad|iphone|ipod/i.test(ut)&&"undefined"!=typeof Pebble,hh=/web0s(?!.*chrome)/i.test(ut),_h=o,fh=Qe,Th=L.f,Rh=oh.set,Ah=ph,Oh=Dd,Sh=dh,Ih=hh,mh=fd,Nh=_h.MutationObserver||_h.WebKitMutationObserver,gh=_h.document,bh=_h.process,Ch=_h.Promise,yh=Th(_h,"queueMicrotask"),Lh=yh&&yh.value;if(!Lh){var vh=new Ah,wh=function(){var t,e;for(mh&&(t=bh.domain)&&t.exit();e=vh.get();)try{e()}catch(t){throw vh.head&&ah(),t}t&&t.enter()};Oh||mh||Ih||!Nh||!gh?!Sh&&Ch&&Ch.resolve?((Eh=Ch.resolve(void 0)).constructor=Ch,lh=fh(Eh.then,Eh),ah=function(){lh(wh)}):mh?ah=function(){bh.nextTick(wh)}:(Rh=fh(Rh,_h),ah=function(){Rh(wh)}):(ch=!0,uh=gh.createTextNode(""),new Nh(wh).observe(uh,{characterData:!0}),ah=function(){uh.data=ch=!ch}),Lh=function(t){vh.head||ah(),vh.add(t)}}var Dh=Lh,Ph=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Uh=o.Promise,Mh="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,xh=!Mh&&!fd&&"object"==typeof window&&"object"==typeof document,kh=o,Fh=Uh,Vh=y,Bh=ze,Wh=En,Gh=de,jh=xh,Hh=Mh,Kh=ft,Yh=Fh&&Fh.prototype,zh=Gh("species"),Jh=!1,Xh=Vh(kh.PromiseRejectionEvent),qh=Bh("Promise",(function(){var t=Wh(Fh),e=t!==String(Fh);if(!e&&66===Kh)return!0;if(!Yh.catch||!Yh.finally)return!0;if(!Kh||Kh<51||!/native code/.test(t)){var r=new Fh((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[zh]=n,!(Jh=r.then((function(){}))instanceof n))return!0}return!e&&(jh||Hh)&&!Xh})),Qh={CONSTRUCTOR:qh,REJECTION_EVENT:Xh,SUBCLASSING:Jh},Zh={},$h=Dt,t_=TypeError,e_=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw t_("Bad Promise constructor");e=t,r=n})),this.resolve=$h(e),this.reject=$h(r)};Zh.f=function(t){return new e_(t)};var r_,n_,i_=Lr,o_=fd,s_=o,a_=P,c_=ao,u_=Uo,E_=function(t){var e=Td(t);Ad&&e&&!e[Od]&&Rd(e,Od,{configurable:!0,get:function(){return this}})},l_=Dt,p_=y,d_=et,h_=function(t,e){if(Sd(e,t))return t;throw Id("Incorrect invocation")},__=vd,f_=oh.set,T_=Dh,R_=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},A_=Ph,O_=ph,S_=qo,I_=Uh,m_=Qh,N_=Zh,g_="Promise",b_=m_.CONSTRUCTOR,C_=m_.REJECTION_EVENT,y_=S_.getterFor(g_),L_=S_.set,v_=I_&&I_.prototype,w_=I_,D_=v_,P_=s_.TypeError,U_=s_.document,M_=s_.process,x_=N_.f,k_=x_,F_=!!(U_&&U_.createEvent&&s_.dispatchEvent),V_="unhandledrejection",B_=function(t){var e;return!(!d_(t)||!p_(e=t.then))&&e},W_=function(t,e){var r,n,i,o=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,E=t.domain;try{a?(s||(2===e.rejection&&Y_(e),e.rejection=1),!0===a?r=o:(E&&E.enter(),r=a(o),E&&(E.exit(),i=!0)),r===t.promise?u(P_("Promise-chain cycle")):(n=B_(r))?a_(n,r,c,u):c(r)):u(o)}catch(t){E&&!i&&E.exit(),u(t)}},G_=function(t,e){t.notified||(t.notified=!0,T_((function(){for(var r,n=t.reactions;r=n.get();)W_(r,t);t.notified=!1,e&&!t.rejection&&H_(t)})))},j_=function(t,e,r){var n,i;F_?((n=U_.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),s_.dispatchEvent(n)):n={promise:e,reason:r},!C_&&(i=s_["on"+t])?i(n):t===V_&&R_("Unhandled promise rejection",r)},H_=function(t){a_(f_,s_,(function(){var e,r=t.facade,n=t.value;if(K_(t)&&(e=A_((function(){o_?M_.emit("unhandledRejection",n,r):j_(V_,r,n)})),t.rejection=o_||K_(t)?2:1,e.error))throw e.value}))},K_=function(t){return 1!==t.rejection&&!t.parent},Y_=function(t){a_(f_,s_,(function(){var e=t.facade;o_?M_.emit("rejectionHandled",e):j_("rejectionhandled",e,t.value)}))},z_=function(t,e,r){return function(n){t(e,n,r)}},J_=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,G_(t,!0))},X_=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw P_("Promise can't be resolved itself");var n=B_(e);n?T_((function(){var r={done:!1};try{a_(n,e,z_(X_,r,t),z_(J_,r,t))}catch(e){J_(r,e,t)}})):(t.value=e,t.state=1,G_(t,!1))}catch(e){J_({done:!1},e,t)}}};b_&&(D_=(w_=function(t){h_(this,D_),l_(t),a_(r_,this);var e=y_(this);try{t(z_(X_,e),z_(J_,e))}catch(t){J_(e,t)}}).prototype,(r_=function(t){L_(this,{type:g_,done:!1,notified:!1,parent:!1,reactions:new O_,rejection:!1,state:0,value:void 0})}).prototype=c_(D_,"then",(function(t,e){var r=y_(this),n=x_(__(this,w_));return r.parent=!0,n.ok=!p_(t)||t,n.fail=p_(e)&&e,n.domain=o_?M_.domain:void 0,0==r.state?r.reactions.add(n):T_((function(){W_(n,r)})),n.promise})),n_=function(){var t=new r_,e=y_(t);this.promise=t,this.resolve=z_(X_,e),this.reject=z_(J_,e)},N_.f=x_=function(t){return t===w_||undefined===t?new n_(t):k_(t)}),i_({global:!0,constructor:!0,wrap:!0,forced:b_},{Promise:w_}),u_(w_,g_,!1,!0),E_(g_);var q_=de("iterator"),Q_=!1;try{var Z_=0,$_={next:function(){return{done:!!Z_++}},return:function(){Q_=!0}};$_[q_]=function(){return this},Array.from($_,(function(){throw 2}))}catch(t){}var tf=Uh,ef=function(t,e){if(!e&&!Q_)return!1;var r=!1;try{var n={};n[q_]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},rf=Qh.CONSTRUCTOR||!ef((function(t){tf.all(t).then(void 0,(function(){}))})),nf=P,of=Dt,sf=Zh,af=Ph,cf=zp;Lr({target:"Promise",stat:!0,forced:rf},{all:function(t){var e=this,r=sf.f(e),n=r.resolve,i=r.reject,o=af((function(){var r=of(e.resolve),o=[],s=0,a=1;cf(t,(function(t){var c=s++,u=!1;a++,nf(r,e,t).then((function(t){u||(u=!0,o[c]=t,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var uf=Lr,Ef=Qh.CONSTRUCTOR;Uh&&Uh.prototype,uf({target:"Promise",proto:!0,forced:Ef,real:!0},{catch:function(t){return this.then(void 0,t)}});var lf=P,pf=Dt,df=Zh,hf=Ph,_f=zp;Lr({target:"Promise",stat:!0,forced:rf},{race:function(t){var e=this,r=df.f(e),n=r.reject,i=hf((function(){var i=pf(e.resolve);_f(t,(function(t){lf(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var ff=P,Tf=Zh;Lr({target:"Promise",stat:!0,forced:Qh.CONSTRUCTOR},{reject:function(t){var e=Tf.f(this);return ff(e.reject,void 0,t),e.promise}});var Rf=nr,Af=et,Of=Zh,Sf=function(t,e){if(Rf(t),Af(e)&&e.constructor===t)return e;var r=Of.f(t);return(0,r.resolve)(e),r.promise},If=Lr,mf=Uh,Nf=Qh.CONSTRUCTOR,gf=Sf,bf=at("Promise"),Cf=!Nf;If({target:"Promise",stat:!0,forced:true},{resolve:function(t){return gf(Cf&&this===bf?mf:this,t)}});var yf=P,Lf=Dt,vf=Zh,wf=Ph,Df=zp;Lr({target:"Promise",stat:!0,forced:rf},{allSettled:function(t){var e=this,r=vf.f(e),n=r.resolve,i=r.reject,o=wf((function(){var r=Lf(e.resolve),i=[],o=0,s=1;Df(t,(function(t){var a=o++,c=!1;s++,yf(r,e,t).then((function(t){c||(c=!0,i[a]={status:"fulfilled",value:t},--s||n(i))}),(function(t){c||(c=!0,i[a]={status:"rejected",reason:t},--s||n(i))}))})),--s||n(i)}));return o.error&&i(o.value),r.promise}});var Pf=P,Uf=Dt,Mf=at,xf=Zh,kf=Ph,Ff=zp,Vf="No one promise resolved";Lr({target:"Promise",stat:!0,forced:rf},{any:function(t){var e=this,r=Mf("AggregateError"),n=xf.f(e),i=n.resolve,o=n.reject,s=kf((function(){var n=Uf(e.resolve),s=[],a=0,c=1,u=!1;Ff(t,(function(t){var E=a++,l=!1;c++,Pf(n,e,t).then((function(t){l||u||(u=!0,i(t))}),(function(t){l||u||(l=!0,s[E]=t,--c||o(new r(s,Vf)))}))})),--c||o(new r(s,Vf))}));return s.error&&o(s.value),n.promise}});var Bf=Lr,Wf=Uh,Gf=s,jf=at,Hf=y,Kf=vd,Yf=Sf,zf=Wf&&Wf.prototype;Bf({target:"Promise",proto:!0,real:!0,forced:!!Wf&&Gf((function(){zf.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Kf(this,jf("Promise")),r=Hf(t);return this.then(r?function(r){return Yf(e,t()).then((function(){return r}))}:t,r?function(r){return Yf(e,t()).then((function(){throw r}))}:t)}});var Jf=r(rt.Promise),Xf={exports:{}};!function(t,r){!function(e,n){var i="function",o="undefined",s="object",a="string",c="major",u="model",E="name",l="type",p="vendor",d="version",h="architecture",_="console",f="mobile",T="tablet",R="smarttv",A="wearable",O="embedded",S="Amazon",I="Apple",m="ASUS",N="BlackBerry",g="Browser",b="Chrome",C="Firefox",y="Google",L="Huawei",v="LG",w="Microsoft",D="Motorola",P="Opera",U="Samsung",M="Sharp",x="Sony",k="Xiaomi",F="Zebra",V="Facebook",B="Chromium OS",W="Mac OS",G=function(t){for(var e={},r=0;r<t.length;r++)e[t[r].toUpperCase()]=t[r];return e},j=function(t,e){return typeof t===a&&-1!==H(e).indexOf(H(t))},H=function(t){return t.toLowerCase()},K=function(t,e){if(typeof t===a)return t=t.replace(/^\s\s*/,""),typeof e===o?t:t.substring(0,350)},Y=function(t,e){for(var r,o,a,c,u,E,l=0;l<e.length&&!u;){var p=e[l],d=e[l+1];for(r=o=0;r<p.length&&!u&&p[r];)if(u=p[r++].exec(t))for(a=0;a<d.length;a++)E=u[++o],typeof(c=d[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,E):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=E?E.replace(c[1],c[2]):n:this[c[0]]=E?c[1].call(this,E,c[2]):n:4===c.length&&(this[c[0]]=E?c[3].call(this,E.replace(c[1],c[2])):n):this[c]=E||n;l+=2}},z=function(t,e){for(var r in e)if(typeof e[r]===s&&e[r].length>0){for(var i=0;i<e[r].length;i++)if(j(e[r][i],t))return"?"===r?n:r}else if(j(e[r],t))return"?"===r?n:r;return t},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,d],[/opios[\/ ]+([\w\.]+)/i],[d,[E,P+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[E,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[E,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[E,"UC"+g]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[d,[E,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[E,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[E,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+g],d],[/\bfocus\/([\w\.]+)/i],[d,[E,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[E,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[E,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[E,"MIUI "+g]],[/fxios\/([-\w\.]+)/i],[d,[E,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[E,"360 "+g]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1 "+g],d],[/(comodo_dragon)\/([\w\.]+)/i],[[E,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[E,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,V],d],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[E,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[E,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[E,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,b+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[E,"Android "+g]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[E,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[d,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[E,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[E,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[E,d],[/(cobalt)\/([\w\.]+)/i],[E,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,H]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,U],[l,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,U],[l,f]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[p,I],[l,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,I],[l,T]],[/(macintosh);/i],[u,[p,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,M],[l,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,L],[l,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,L],[l,f]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,k],[l,f]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,k],[l,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[l,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[l,f]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[l,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,D],[l,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,D],[l,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,v],[l,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,v],[l,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[l,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[l,f]],[/(pixel c)\b/i],[u,[p,y],[l,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,y],[l,f]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,x],[l,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,x],[l,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[l,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,S],[l,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,S],[l,f]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[l,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,N],[l,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,m],[l,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,m],[l,f]],[/(nexus 9)/i],[u,[p,"HTC"],[l,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[l,f]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[l,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[l,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[l,f]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[l,T]],[/(surface duo)/i],[u,[p,w],[l,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[l,f]],[/(u304aa)/i],[u,[p,"AT&T"],[l,f]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[l,f]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[l,T]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[l,T]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[l,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[l,T]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[l,T]],[/\b(k88) b/i],[u,[p,"ZTE"],[l,T]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[l,f]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[l,f]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[l,T]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[l,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[l,T]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[l,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[l,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[l,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[l,f]],[/\b(ph-1) /i],[u,[p,"Essential"],[l,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[l,T]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[l,T]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[l,T]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[l,T]],[/(sprint) (\w+)/i],[p,u,[l,f]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,w],[l,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,F],[l,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,F],[l,f]],[/smart-tv.+(samsung)/i],[p,[l,R]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,U],[l,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,v],[l,R]],[/(apple) ?tv/i],[p,[u,I+" TV"],[l,R]],[/crkey/i],[[u,b+"cast"],[p,y],[l,R]],[/droid.+aft(\w)( bui|\))/i],[u,[p,S],[l,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,M],[l,R]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,x],[l,R]],[/(mitv-\w{5}) bui/i],[u,[p,k],[l,R]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[l,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[u,K],[l,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[l,_]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[l,_]],[/(playstation [345portablevi]+)/i],[u,[p,x],[l,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,w],[l,_]],[/((pebble))app/i],[p,u,[l,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,I],[l,A]],[/droid.+; (glass) \d/i],[u,[p,y],[l,A]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,F],[l,A]],[/(quest( 2| pro)?)/i],[u,[p,V],[l,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,O]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[l,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,f]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[E,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[E,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[E,[d,z,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,"Windows"],[d,z,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,W],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,E],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[E,d],[/\(bb(10);/i],[d,[E,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[E,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[E,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[E,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[E,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[E,B],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,d],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[E,d]]},q=function(t,r){if(typeof t===s&&(r=t,t=n),!(this instanceof q))return new q(t,r).getResult();var _=typeof e!==o&&e.navigator?e.navigator:n,R=t||(_&&_.userAgent?_.userAgent:""),A=_&&_.userAgentData?_.userAgentData:n,O=r?function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r}(X,r):X;return this.getBrowser=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,O.browser),t[c]=function(t){return typeof t===a?t.replace(/[^\d\.]/g,"").split(".")[0]:n}(t[d]),_&&_.brave&&typeof _.brave.isBrave==i&&(t[E]="Brave"),t},this.getCPU=function(){var t={};return t[h]=n,Y.call(t,R,O.cpu),t},this.getDevice=function(){var t={};return t[p]=n,t[u]=n,t[l]=n,Y.call(t,R,O.device),!t[l]&&A&&A.mobile&&(t[l]=f),"Macintosh"==t[u]&&_&&typeof _.standalone!==o&&_.maxTouchPoints&&_.maxTouchPoints>2&&(t[u]="iPad",t[l]=T),t},this.getEngine=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,O.engine),t},this.getOS=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,O.os),!t[E]&&A&&"Unknown"!=A.platform&&(t[E]=A.platform.replace(/chrome os/i,B).replace(/macos/i,W)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(t){return R=typeof t===a&&t.length>350?K(t,350):t,this},this.setUA(R),this};q.VERSION="0.7.34",q.BROWSER=G([E,d,c]),q.CPU=G([h]),q.DEVICE=G([u,p,l,_,f,R,T,A,O]),q.ENGINE=q.OS=G([E,d]),t.exports&&(r=t.exports=q),r.UAParser=q;var Q=typeof e!==o&&(e.jQuery||e.Zepto);if(Q&&!Q.ua){var Z=new q;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(t){Z.setUA(t);var e=Z.getResult();for(var r in e)Q.ua[r]=e[r]}}}("object"==typeof window?window:e)}(Xf,Xf.exports);var qf=r(Xf.exports);function Qf(t,e){return function(){return t.apply(e,arguments)}}const{toString:Zf}=Object.prototype,{getPrototypeOf:$f}=Object,tT=(eT=Object.create(null),t=>{const e=Zf.call(t);return eT[e]||(eT[e]=e.slice(8,-1).toLowerCase())});var eT;const rT=t=>(t=t.toLowerCase(),e=>tT(e)===t),nT=t=>e=>typeof e===t,{isArray:iT}=Array,oT=nT("undefined");const sT=rT("ArrayBuffer");const aT=nT("string"),cT=nT("function"),uT=nT("number"),ET=t=>null!==t&&"object"==typeof t,lT=t=>{if("object"!==tT(t))return!1;const e=$f(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},pT=rT("Date"),dT=rT("File"),hT=rT("Blob"),_T=rT("FileList"),fT=rT("URLSearchParams"),[TT,RT,AT,OT]=["ReadableStream","Request","Response","Headers"].map(rT);function ST(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),iT(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function IT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const mT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,NT=t=>!oT(t)&&t!==mT;const gT=(bT="undefined"!=typeof Uint8Array&&$f(Uint8Array),t=>bT&&t instanceof bT);var bT;const CT=rT("HTMLFormElement"),yT=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),LT=rT("RegExp"),vT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ST(r,((r,i)=>{let o;!1!==(o=e(r,i,t))&&(n[i]=o||r)})),Object.defineProperties(t,n)};const wT=rT("AsyncFunction"),DT=(PT="function"==typeof setImmediate,UT=cT(mT.postMessage),PT?setImmediate:UT?(MT=`axios@${Math.random()}`,xT=[],mT.addEventListener("message",(({source:t,data:e})=>{t===mT&&e===MT&&xT.length&&xT.shift()()}),!1),t=>{xT.push(t),mT.postMessage(MT,"*")}):t=>setTimeout(t));var PT,UT,MT,xT;const kT="undefined"!=typeof queueMicrotask?queueMicrotask.bind(mT):"undefined"!=typeof process&&process.nextTick||DT;var FT={isArray:iT,isArrayBuffer:sT,isBuffer:function(t){return null!==t&&!oT(t)&&null!==t.constructor&&!oT(t.constructor)&&cT(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||cT(t.append)&&("formdata"===(e=tT(t))||"object"===e&&cT(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&sT(t.buffer),e},isString:aT,isNumber:uT,isBoolean:t=>!0===t||!1===t,isObject:ET,isPlainObject:lT,isReadableStream:TT,isRequest:RT,isResponse:AT,isHeaders:OT,isUndefined:oT,isDate:pT,isFile:dT,isBlob:hT,isRegExp:LT,isFunction:cT,isStream:t=>ET(t)&&cT(t.pipe),isURLSearchParams:fT,isTypedArray:gT,isFileList:_T,forEach:ST,merge:function t(){const{caseless:e}=NT(this)&&this||{},r={},n=(n,i)=>{const o=e&&IT(r,i)||i;lT(r[o])&&lT(n)?r[o]=t(r[o],n):lT(n)?r[o]=t({},n):iT(n)?r[o]=n.slice():r[o]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&ST(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(ST(e,((e,n)=>{r&&cT(e)?t[n]=Qf(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],n&&!n(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==r&&$f(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:tT,kindOfTest:rT,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(iT(t))return t;let e=t.length;if(!uT(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:CT,hasOwnProperty:yT,hasOwnProp:yT,reduceDescriptors:vT,freezeMethods:t=>{vT(t,((e,r)=>{if(cT(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];cT(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return iT(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:IT,global:mT,isContextDefined:NT,isSpecCompliantForm:function(t){return!!(t&&cT(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(ET(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=iT(t)?[]:{};return ST(t,((t,e)=>{const o=r(t,n+1);!oT(o)&&(i[e]=o)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:wT,isThenable:t=>t&&(ET(t)||cT(t))&&cT(t.then)&&cT(t.catch),setImmediate:DT,asap:kT};function VT(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}FT.inherits(VT,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:FT.toJSONObject(this.config),code:this.code,status:this.status}}});const BT=VT.prototype,WT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{WT[t]={value:t}})),Object.defineProperties(VT,WT),Object.defineProperty(BT,"isAxiosError",{value:!0}),VT.from=(t,e,r,n,i,o)=>{const s=Object.create(BT);return FT.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),VT.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function GT(t){return FT.isPlainObject(t)||FT.isArray(t)}function jT(t){return FT.endsWith(t,"[]")?t.slice(0,-2):t}function HT(t,e,r){return t?t.concat(e).map((function(t,e){return t=jT(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const KT=FT.toFlatObject(FT,{},null,(function(t){return/^is[A-Z]/.test(t)}));function YT(t,e,r){if(!FT.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=FT.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!FT.isUndefined(e[t])}))).metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&FT.isSpecCompliantForm(e);if(!FT.isFunction(i))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(FT.isDate(t))return t.toISOString();if(!a&&FT.isBlob(t))throw new VT("Blob is not supported. Use a Buffer instead.");return FT.isArrayBuffer(t)||FT.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,r,i){let a=t;if(t&&!i&&"object"==typeof t)if(FT.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(FT.isArray(t)&&function(t){return FT.isArray(t)&&!t.some(GT)}(t)||(FT.isFileList(t)||FT.endsWith(r,"[]"))&&(a=FT.toArray(t)))return r=jT(r),a.forEach((function(t,n){!FT.isUndefined(t)&&null!==t&&e.append(!0===s?HT([r],n,o):null===s?r:r+"[]",c(t))})),!1;return!!GT(t)||(e.append(HT(i,r,o),c(t)),!1)}const E=[],l=Object.assign(KT,{defaultVisitor:u,convertValue:c,isVisitable:GT});if(!FT.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!FT.isUndefined(r)){if(-1!==E.indexOf(r))throw Error("Circular reference detected in "+n.join("."));E.push(r),FT.forEach(r,(function(r,o){!0===(!(FT.isUndefined(r)||null===r)&&i.call(e,r,FT.isString(o)?o.trim():o,n,l))&&t(r,n?n.concat(o):[o])})),E.pop()}}(t),e}function zT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function JT(t,e){this._pairs=[],t&&YT(t,this,e)}const XT=JT.prototype;function qT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QT(t,e,r){if(!e)return t;const n=r&&r.encode||qT;FT.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(e,r):FT.isURLSearchParams(e)?e.toString():new JT(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}XT.append=function(t,e){this._pairs.push([t,e])},XT.toString=function(t){const e=t?function(e){return t.call(this,e,zT)}:zT;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var ZT=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){FT.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},$T={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tR={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:JT,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const eR="undefined"!=typeof window&&"undefined"!=typeof document,rR="object"==typeof navigator&&navigator||void 0,nR=eR&&(!rR||["ReactNative","NativeScript","NS"].indexOf(rR.product)<0),iR="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,oR=eR&&window.location.href||"http://localhost";var sR={...Object.freeze({__proto__:null,hasBrowserEnv:eR,hasStandardBrowserEnv:nR,hasStandardBrowserWebWorkerEnv:iR,navigator:rR,origin:oR}),...tR};function aR(t){function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&FT.isArray(n)?n.length:o,a)return FT.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&FT.isObject(n[o])||(n[o]=[]);return e(t,r,n[o],i)&&FT.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(n[o])),!s}if(FT.isFormData(t)&&FT.isFunction(t.entries)){const r={};return FT.forEachEntry(t,((t,n)=>{e(function(t){return FT.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const cR={transitional:$T,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=FT.isObject(t);i&&FT.isHTMLForm(t)&&(t=new FormData(t));if(FT.isFormData(t))return n?JSON.stringify(aR(t)):t;if(FT.isArrayBuffer(t)||FT.isBuffer(t)||FT.isStream(t)||FT.isFile(t)||FT.isBlob(t)||FT.isReadableStream(t))return t;if(FT.isArrayBufferView(t))return t.buffer;if(FT.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return YT(t,new sR.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return sR.isNode&&FT.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=FT.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return YT(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(FT.isString(t))try{return(e||JSON.parse)(t),FT.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||cR.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(FT.isResponse(t)||FT.isReadableStream(t))return t;if(t&&FT.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw VT.from(t,VT.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sR.classes.FormData,Blob:sR.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};FT.forEach(["delete","get","head","post","put","patch"],(t=>{cR.headers[t]={}}));var uR=cR;const ER=FT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const lR=Symbol("internals");function pR(t){return t&&String(t).trim().toLowerCase()}function dR(t){return!1===t||null==t?t:FT.isArray(t)?t.map(dR):String(t)}function hR(t,e,r,n,i){return FT.isFunction(n)?n.call(this,e,r):(i&&(e=r),FT.isString(e)?FT.isString(n)?-1!==e.indexOf(n):FT.isRegExp(n)?n.test(e):void 0:void 0)}class _R{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=pR(e);if(!i)throw new Error("header name must be a non-empty string");const o=FT.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=dR(t))}const o=(t,e)=>FT.forEach(t,((t,r)=>i(t,r,e)));if(FT.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(FT.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&ER[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(FT.isHeaders(t))for(const[e,n]of t.entries())i(n,e,r);else null!=t&&i(e,t,r);return this}get(t,e){if(t=pR(t)){const r=FT.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(FT.isFunction(e))return e.call(this,t,r);if(FT.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=pR(t)){const r=FT.findKey(this,t);return!(!r||void 0===this[r]||e&&!hR(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=pR(t)){const i=FT.findKey(r,t);!i||e&&!hR(0,r[i],i,e)||(delete r[i],n=!0)}}return FT.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!hR(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return FT.forEach(this,((n,i)=>{const o=FT.findKey(r,i);if(o)return e[o]=dR(n),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete e[i],e[s]=dR(n),r[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return FT.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&FT.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[lR]=this[lR]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=pR(t);e[n]||(!function(t,e){const r=FT.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return FT.isArray(t)?t.forEach(n):n(t),this}}_R.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),FT.reduceDescriptors(_R.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),FT.freezeMethods(_R);var fR=_R;function TR(t,e){const r=this||uR,n=e||r,i=fR.from(n.headers);let o=n.data;return FT.forEach(t,(function(t){o=t.call(r,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function RR(t){return!(!t||!t.__CANCEL__)}function AR(t,e,r){VT.call(this,null==t?"canceled":t,VT.ERR_CANCELED,e,r),this.name="CanceledError"}function OR(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new VT("Request failed with status code "+r.status,[VT.ERR_BAD_REQUEST,VT.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}FT.inherits(AR,VT,{__CANCEL__:!0});const SR=(t,e,r=3)=>{let n=0;const i=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),u=n[s];i||(i=c),r[o]=a,n[o]=c;let E=s,l=0;for(;E!==o;)l+=r[E++],E%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const p=u&&c-u;return p?Math.round(1e3*l/p):void 0}}(50,250);return function(t,e){let r,n,i=0,o=1e3/e;const s=(e,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-i;a>=o?s(t,e):(r=t,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;t({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r,lengthComputable:null!=s,[e?"download":"upload"]:!0})}),r)},IR=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},mR=t=>(...e)=>FT.asap((()=>t(...e)));var NR=sR.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,sR.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(sR.origin),sR.navigator&&/(msie|trident)/i.test(sR.navigator.userAgent)):()=>!0,gR=sR.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];FT.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),FT.isString(n)&&s.push("path="+n),FT.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bR(t,e,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(n||0==r)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const CR=t=>t instanceof fR?{...t}:t;function yR(t,e){e=e||{};const r={};function n(t,e,r,n){return FT.isPlainObject(t)&&FT.isPlainObject(e)?FT.merge.call({caseless:n},t,e):FT.isPlainObject(e)?FT.merge({},e):FT.isArray(e)?e.slice():e}function i(t,e,r,i){return FT.isUndefined(e)?FT.isUndefined(t)?void 0:n(void 0,t,0,i):n(t,e,0,i)}function o(t,e){if(!FT.isUndefined(e))return n(void 0,e)}function s(t,e){return FT.isUndefined(e)?FT.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e,r)=>i(CR(t),CR(e),0,!0)};return FT.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=c[n]||i,s=o(t[n],e[n],n);FT.isUndefined(s)&&o!==a||(r[n]=s)})),r}var LR=t=>{const e=yR({},t);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=fR.from(a),e.url=QT(bR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),FT.isFormData(n))if(sR.hasStandardBrowserEnv||sR.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(sR.hasStandardBrowserEnv&&(i&&FT.isFunction(i)&&(i=i(e)),i||!1!==i&&NR(e.url))){const t=o&&s&&gR.read(s);t&&a.set(o,t)}return e};var vR="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=LR(t);let i=n.data;const o=fR.from(n.headers).normalize();let s,a,c,u,E,{responseType:l,onUploadProgress:p,onDownloadProgress:d}=n;function h(){u&&u(),E&&E(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let _=new XMLHttpRequest;function f(){if(!_)return;const n=fR.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders());OR((function(t){e(t),h()}),(function(t){r(t),h()}),{data:l&&"text"!==l&&"json"!==l?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:n,config:t,request:_}),_=null}_.open(n.method.toUpperCase(),n.url,!0),_.timeout=n.timeout,"onloadend"in _?_.onloadend=f:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(f)},_.onabort=function(){_&&(r(new VT("Request aborted",VT.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new VT("Network Error",VT.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||$T;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new VT(e,i.clarifyTimeoutError?VT.ETIMEDOUT:VT.ECONNABORTED,t,_)),_=null},void 0===i&&o.setContentType(null),"setRequestHeader"in _&&FT.forEach(o.toJSON(),(function(t,e){_.setRequestHeader(e,t)})),FT.isUndefined(n.withCredentials)||(_.withCredentials=!!n.withCredentials),l&&"json"!==l&&(_.responseType=n.responseType),d&&([c,E]=SR(d,!0),_.addEventListener("progress",c)),p&&_.upload&&([a,u]=SR(p),_.upload.addEventListener("progress",a),_.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(s=e=>{_&&(r(!e||e.type?new AR(null,t,_):e),_.abort(),_=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const T=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);T&&-1===sR.protocols.indexOf(T)?r(new VT("Unsupported protocol "+T+":",VT.ERR_BAD_REQUEST,t)):_.send(i||null)}))};var wR=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let r,n=new AbortController;const i=function(t){if(!r){r=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof VT?e:new AR(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{o=null,i(new VT(`timeout ${e} of ms exceeded`,VT.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(i):t.removeEventListener("abort",i)})),t=null)};t.forEach((t=>t.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>FT.asap(s),a}};const DR=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,i=0;for(;i<r;)n=i+e,yield t.slice(i,n),i=n},PR=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},UR=(t,e,r,n)=>{const i=async function*(t,e){for await(const r of PR(t))yield*DR(r,e)}(t,e);let o,s=0,a=t=>{o||(o=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await i.next();if(e)return a(),void t.close();let o=n.byteLength;if(r){let t=s+=o;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:t=>(a(t),i.return())},{highWaterMark:2})},MR="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,xR=MR&&"function"==typeof ReadableStream,kR=MR&&("function"==typeof TextEncoder?(FR=new TextEncoder,t=>FR.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var FR;const VR=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},BR=xR&&VR((()=>{let t=!1;const e=new Request(sR.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),WR=xR&&VR((()=>FT.isReadableStream(new Response("").body))),GR={stream:WR&&(t=>t.body)};var jR;MR&&(jR=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!GR[t]&&(GR[t]=FT.isFunction(jR[t])?e=>e[t]():(e,r)=>{throw new VT(`Response type '${t}' is not supported`,VT.ERR_NOT_SUPPORT,r)})})));const HR=async(t,e)=>{const r=FT.toFiniteNumber(t.getContentLength());return null==r?(async t=>{if(null==t)return 0;if(FT.isBlob(t))return t.size;if(FT.isSpecCompliantForm(t)){const e=new Request(sR.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return FT.isArrayBufferView(t)||FT.isArrayBuffer(t)?t.byteLength:(FT.isURLSearchParams(t)&&(t+=""),FT.isString(t)?(await kR(t)).byteLength:void 0)})(e):r};var KR=MR&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:E,withCredentials:l="same-origin",fetchOptions:p}=LR(t);u=u?(u+"").toLowerCase():"text";let d,h=wR([i,o&&o.toAbortSignal()],s);const _=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let f;try{if(c&&BR&&"get"!==r&&"head"!==r&&0!==(f=await HR(E,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});if(FT.isFormData(n)&&(t=r.headers.get("content-type"))&&E.setContentType(t),r.body){const[t,e]=IR(f,SR(mR(c)));n=UR(r.body,65536,t,e)}}FT.isString(l)||(l=l?"include":"omit");const i="credentials"in Request.prototype;d=new Request(e,{...p,signal:h,method:r.toUpperCase(),headers:E.normalize().toJSON(),body:n,duplex:"half",credentials:i?l:void 0});let o=await fetch(d);const s=WR&&("stream"===u||"response"===u);if(WR&&(a||s&&_)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=o[e]}));const e=FT.toFiniteNumber(o.headers.get("content-length")),[r,n]=a&&IR(e,SR(mR(a),!0))||[];o=new Response(UR(o.body,65536,r,(()=>{n&&n(),_&&_()})),t)}u=u||"text";let T=await GR[FT.findKey(GR,u)||"text"](o,t);return!s&&_&&_(),await new Promise(((e,r)=>{OR(e,r,{data:T,headers:fR.from(o.headers),status:o.status,statusText:o.statusText,config:t,request:d})}))}catch(e){if(_&&_(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new VT("Network Error",VT.ERR_NETWORK,t,d),{cause:e.cause||e});throw VT.from(e,e&&e.code,t,d)}});const YR={http:null,xhr:vR,fetch:KR};FT.forEach(YR,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const zR=t=>`- ${t}`,JR=t=>FT.isFunction(t)||null===t||!1===t;var XR={getAdapter:t=>{t=FT.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){let e;if(r=t[o],n=r,!JR(r)&&(n=YR[(e=String(r)).toLowerCase()],void 0===n))throw new VT(`Unknown adapter '${e}'`);if(n)break;i[e||"#"+o]=n}if(!n){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new VT("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(zR).join("\n"):" "+zR(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n},adapters:YR};function qR(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new AR(null,t)}function QR(t){qR(t),t.headers=fR.from(t.headers),t.data=TR.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return XR.getAdapter(t.adapter||uR.adapter)(t).then((function(e){return qR(t),e.data=TR.call(t,t.transformResponse,e),e.headers=fR.from(e.headers),e}),(function(e){return RR(e)||(qR(t),e&&e.response&&(e.response.data=TR.call(t,t.transformResponse,e.response),e.response.headers=fR.from(e.response.headers))),Promise.reject(e)}))}const ZR="1.8.4",$R={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{$R[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const tA={};$R.transitional=function(t,e,r){function n(t,e){return"[Axios v"+ZR+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new VT(n(i," has been removed"+(e?" in "+e:"")),VT.ERR_DEPRECATED);return e&&!tA[i]&&(tA[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}},$R.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};var eA={assertOptions:function(t,e,r){if("object"!=typeof t)throw new VT("options must be an object",VT.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const e=t[o],r=void 0===e||s(e,o,t);if(!0!==r)throw new VT("option "+o+" must be "+r,VT.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new VT("Unknown option "+o,VT.ERR_BAD_OPTION)}},validators:$R};const rA=eA.validators;let nA=class{constructor(t){this.defaults=t,this.interceptors={request:new ZT,response:new ZT}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=yR(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&eA.assertOptions(r,{silentJSONParsing:rA.transitional(rA.boolean),forcedJSONParsing:rA.transitional(rA.boolean),clarifyTimeoutError:rA.transitional(rA.boolean)},!1),null!=n&&(FT.isFunction(n)?e.paramsSerializer={serialize:n}:eA.assertOptions(n,{encode:rA.function,serialize:rA.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),eA.assertOptions(e,{baseUrl:rA.spelling("baseURL"),withXsrfToken:rA.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&FT.merge(i.common,i[e.method]);i&&FT.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=fR.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let E,l=0;if(!a){const t=[QR.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),E=t.length,u=Promise.resolve(e);l<E;)u=u.then(t[l++],t[l++]);return u}E=s.length;let p=e;for(l=0;l<E;){const t=s[l++],e=s[l++];try{p=t(p)}catch(t){e.call(this,t);break}}try{u=QR.call(this,p)}catch(t){return Promise.reject(t)}for(l=0,E=c.length;l<E;)u=u.then(c[l++],c[l++]);return u}getUri(t){return QT(bR((t=yR(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}};FT.forEach(["delete","get","head","options"],(function(t){nA.prototype[t]=function(e,r){return this.request(yR(r||{},{method:t,url:e,data:(r||{}).data}))}})),FT.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(yR(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}nA.prototype[t]=e(),nA.prototype[t+"Form"]=e(!0)}));var iA=nA;class oA{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new AR(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new oA((function(e){t=e})),cancel:t}}}var sA=oA;const aA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aA).forEach((([t,e])=>{aA[e]=t}));var cA=aA;const uA=function t(e){const r=new iA(e),n=Qf(iA.prototype.request,r);return FT.extend(n,iA.prototype,r,{allOwnKeys:!0}),FT.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(yR(e,r))},n}(uR);uA.Axios=iA,uA.CanceledError=AR,uA.CancelToken=sA,uA.isCancel=RR,uA.VERSION=ZR,uA.toFormData=YT,uA.AxiosError=VT,uA.Cancel=uA.CanceledError,uA.all=function(t){return Promise.all(t)},uA.spread=function(t){return function(e){return t.apply(null,e)}},uA.isAxiosError=function(t){return FT.isObject(t)&&!0===t.isAxiosError},uA.mergeConfig=yR,uA.AxiosHeaders=fR,uA.formToJSON=t=>aR(FT.isHTMLForm(t)?new FormData(t):t),uA.getAdapter=XR.getAdapter,uA.HttpStatusCode=cA,uA.default=uA;var EA=uA;!function(t){t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot"}({}),function(t){t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger"}({});function lA(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pA(Object(r),!0).forEach((function(e){lA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(new qf).getResult();let hA=function(t){return t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",t}({});class _A extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;super(e),lA(this,"code",void 0),lA(this,"message",void 0),lA(this,"data",void 0),lA(this,"name","AgoraRTCException"),this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(e),this.data=r}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",e=arguments.length>1?arguments[1]:void 0;return"error"===t&&(e||console).error(this.toString()),"warning"===t&&(e||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}}function fA(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==t)throw new _A(hA.INVALID_PARAMS,"".concat(e||"param"," cannot be empty"));if(!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&t.length<=r&&t.length>=e&&(!n||function(t){if("string"!=typeof t)return!1;for(let e=0;e<t.length;e+=1){const r=t.charCodeAt(e);if(r<0||r>255)return!1}return!0}(t))}(t,r,n,i))throw new _A(hA.INVALID_PARAMS,"Invalid ".concat(e||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(i?" ASCII characters only.":""))}var TA=function(t){return t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE",t}(TA||{}),RA=function(t){return t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",t}(RA||{});new class{constructor(){lA(this,"_clientSize",null),lA(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),lA(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),lA(this,"getStyle",(t=>window.getComputedStyle(t,null))),lA(this,"checkCssVisibleProperty",(t=>{let e=!0;const r=this.getStyle(t),{display:n,visibility:i,opacity:o,filter:s}=r;return("none"===n||["hidden","collapse"].includes(i)||Number(o)<.1)&&(e=!1),!!e&&(s&&s.split(" ").filter((t=>{const e=t.split("(")[0];return["brightness","blur","opacity"].includes(e)})).map((t=>{const[e,r]=t.split(/\(|\)/);return[e,Number(r.match(/^[0-9\.]+/))]})).forEach((t=>{const[r,n]=t;switch(r){case"brightness":(n<.1||n>3)&&(e=!1);break;case"blur":n>3&&(e=!1);break;case"opacity":n<.1&&(e=!1)}})),e)})),lA(this,"checkPropertyUpToAllParentNodes",((t,e)=>{let r=!0,n=!0;const i=t=>e(t);let o=t;for(;o&&n;)i(o)||(r=!1,n=!1),o=o.parentElement,o||(n=!1);return r})),lA(this,"checkActualCssVisibleIncludeInherit",(t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty))),lA(this,"getSizeAboutClient",(t=>{const{width:e,height:r,left:n,right:i,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:e,height:r,left:n,right:i,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),lA(this,"checkActualSize",(()=>{const{width:t,height:e,clientMin:r}=this._clientSize;return this.checkSizeIsVisible(t,e,r)})),lA(this,"elementFromPoint",((t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null)),lA(this,"checkCoverForAPoint",((t,e,r)=>{const n=this.elementFromPoint(t,e);return null!==n&&n!==r})),lA(this,"getPointPositionList",(()=>{const{width:t,height:e,left:r,top:n}=this._clientSize,i=t/6,o=e/6,s=[],a=10**6;for(let t=0;t<5;t++)for(let e=0;e<5;e++){const c=(r*a+(0===t?.1:4===t?(i*t*a-1e5)/a:i*t)*a)/a,u=(n*a+(0===e?.1:4===e?(o*e*a-1e5)/a:o*e)*a)/a;s.push({x:c,y:u})}return[...s]})),lA(this,"checkElementCover",(t=>this.getPointPositionList().map((e=>this.checkCoverForAPoint(e.x,e.y,t))).filter((t=>!!t)).length>6)),lA(this,"checkSizeIsVisible",((t,e,r)=>(t>50||r/t<=10)&&(e>50||r/e<=10))),lA(this,"checkSizeOfPartInClient",(()=>{const{left:t,right:e,top:r,bottom:n,clientHeight:i,clientWidth:o,clientMin:s}=this._clientSize;let a,c,u,E;if(t<0)a=0;else{if(!(t<o))return!1;a=t}if(e<0)return!1;if(c=e<o?e:o,r<0)u=0;else{if(!(r<i))return!1;u=r}if(n<0)return!1;E=n<i?n:i;const l=c-a,p=E-u;return this.checkSizeIsVisible(l,p,s)})),lA(this,"returnHiddenResult",(t=>(this._clientSize=null,{visible:!1,reason:t}))),lA(this,"checkOneElementVisible",(t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(TA.COVERED);{const t=this.checkActualSize(),e=this.checkSizeOfPartInClient();return t&&!e?this.returnHiddenResult(TA.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(TA.SIZE)}}return this.returnHiddenResult(TA.STYLE)}return this.returnHiddenResult(RA.UNMOUNTED)}return this.returnHiddenResult(RA.INVALID_HTML_ELEMENT)})),lA(this,"checkElementIsMountedOnDom",(t=>this.checkPropertyUpToAllParentNodes(t,(t=>"HTML"!==t.nodeName.toUpperCase()?null!==t.parentElement:!!document.documentElement))))}};const AA=function(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r};class OA{constructor(){lA(this,"_events",{}),lA(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(let r=0;r<e.length;r+=1){const i=e[r];i.once&&this.off(t,i.listener),i.listener.apply(this,n||[])}}safeEmit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];[...this._events[t]||[]].forEach((e=>{e.once&&this.off(t,e.listener);try{e.listener.apply(this,r)}catch(e){console.error("safeEmit event:".concat(t," error ").concat(null==e?void 0:e.toString()))}}))}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}}!function(t){t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.PRELOAD="PRELOAD",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload",t.REPUB_AFTER_PC_CONNECTED="repubAfterPCConnected"}({});let SA=function(t){return t.TRACER="tracer",t}({});!function(t){t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}({}),function(t){t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.FALLBACK="FALLBACK",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE"}({}),function(t){t.PEERCONNECTION_STATE_CHANGE="peerconnection-state-change",t.AUDIO_METADATA="audio-metadata",t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}({}),function(t){t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK",t.REGIONAL_DISTRIBUTION="REGIONAL_DISTRIBUTION"}({});let IA=function(t){return t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({}),mA=function(t){return t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({});const NA=new class extends OA{set networkState(t){this.emit(mA.NETWORK_STATE_CHANGE,t,this._networkState),t===IA.ONLINE?this.emit(mA.ONLINE):t===IA.OFFLINE&&(this.onlineWaiter=new Promise((t=>{this.once(mA.ONLINE,(()=>{this.onlineWaiter=void 0,t(IA.ONLINE)}))})),this.emit(mA.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===IA.ONLINE}constructor(){super(),lA(this,"_moduleName","network-indicator"),lA(this,"_networkState",IA.ONLINE),lA(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=IA.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=IA.OFFLINE}))}};function gA(t){return window.TextEncoder?(new TextEncoder).encode(t).length:t.length}function bA(t){return new Promise((e=>{window.setTimeout(e,t)}))}function CA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+CA(t-r.length,"")}function yA(){return CA(32,"").toUpperCase()}const LA=new class{constructor(){lA(this,"fnMap",new Map)}throttleByKey(t,e,r,n){for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){const i=this.fnMap.get(e);if(i.threshold!==r){i.fn(...i.args),clearTimeout(i.timer);const s=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:s,args:o,skipFn:n})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(e,dA(dA({},i),{},{fn:t,args:o,skipFn:n}))}else{const i=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:i,args:o,skipFn:n})}}},vA=LA.throttleByKey.bind(LA),wA={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};let DA=0,PA=0;function UA(t,e,r,n){return new Promise(((i,o)=>{e.responseType=e.responseType||"json",e.data&&!r?(e.data=JSON.stringify(e.data),DA+=gA(e.data)):r&&(e.data.size?DA+=e.data.size:e.data instanceof FormData?DA+=function(t){let e=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach((t=>{e+="string"==typeof t?gA(t):t.size})),e+138}(e.data):DA+=gA(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.method="POST",e.url=t,EA.request(e).then((t=>{"string"==typeof t.data?PA+=gA(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?PA+=t.data.byteLength:PA+=gA(JSON.stringify(t.data)),n&&i({data:t.data,headers:t.headers}),i(t.data)})).catch((t=>{EA.isCancel(t)?o(new _A(hA.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?o(new _A(hA.NETWORK_TIMEOUT,t.message)):t.response?o(new _A(hA.NETWORK_RESPONSE_ERROR,t.response.status)):o(new _A(hA.NETWORK_ERROR,t.message))}))}))}async function MA(t,e){const r=new Blob([e.data],{type:"buffer"});return await UA(t,dA(dA({},e),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0)}!function(t){t.BANDWIDTH="bandwidth",t.CPU="cpu",t.NONE="none",t.OTHER="other"}({}),function(t){t.L1T1="L1T1",t.L1T2="L1T2",t.L1T3="L1T3",t.L1T3_KEY="L1T3_KEY",t.L2T1_KEY="L2T1_KEY",t.L2T2_KEY="L2T2_KEY",t.L2T3_KEY="L2T3_KEY",t.L3T1_KEY="L3T1_KEY",t.L3T2_KEY="L3T2_KEY",t.L3T3_KEY="L3T3_KEY"}({}),function(t){t[t.new=0]="new",t[t.connecting=1]="connecting",t[t.connected=2]="connected",t[t.disconnected=3]="disconnected",t[t.failed=4]="failed",t[t.closed=5]="closed"}({}),function(t){t.CERTIFICATE="certificate",t.CODEC="codec",t.CANDIDATE_PAIR="candidate-pair",t.LOCAL_CANDIDATE="local-candidate",t.REMOTE_CANDIDATE="remote-candidate",t.INBOUND="inbound-rtp",t.TRACK="track",t.OUTBOUND="outbound-rtp",t.PC="peer-connection",t.REMOTE_INBOUND="remote-inbound-rtp",t.REMOTE_OUTBOUND="remote-outbound-rtp",t.TRANSPORT="transport",t.CSRC="csrc",t.DATA_CHANNEL="data-channel",t.STREAM="stream",t.SENDER="sender",t.RECEIVER="receiver"}({});var xA=function(t){return t[t.kNone=1]="kNone",t[t.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",t[t.kBytesToBits=8]="kBytesToBits",t}(xA||{});const kA="websdk_ng_install_id";function FA(){try{if(HA("INSTALL_ID"))return HA("INSTALL_ID");let t=window.localStorage.getItem(kA);return t||(t=yA(),window.localStorage.setItem(kA,t)),jA("INSTALL_ID",t),t}catch(t){return}}const VA=function(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const e=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(e&&e[1]&&e[2]){const t=e[1],r=e[2];return"".concat(t,".").concat(r)}return"4.0.0.999"}("4.23.2-1"),BA=function(){try{return!0===JSON.parse("true")}catch(t){return!0}}();!function(t){t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn"}({});const WA=function(){const t="us".concat("erna","me"),e="pa".concat("sswo","rd"),r=["t","s","t"];r.splice(1,0,"e");const n=r.join(""),i=[];for(let t=0;t<6;t++)i.push("1");const o=i.join(""),s={};return s[t]=n,s[e]=o,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=WA;const GA=dA(dA(dA({},{ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!1,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:["udp_tcp_relay","relay"],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:"edge.agora.io",USE_TURN_IP:!1,NEW_TURN_MODE:void 0,NEW_FORCE_TURN:!1}),{},{PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS_METADATA:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:{MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},CUSTOM_ADAPTATION_DEFAULT_MODE:"",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_AUT_FEEDBACK:!1,SVC_EXTENDED:["VP9"]}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1},{INSTALL_ID:""});function jA(t,e,r){var n;Object.keys(GA).includes(t)&&(!r&&Object.keys(KA).includes(t)||(GA[t]=e,"ENABLE_VIDEO_SEI"!==t&&"ENABLE_AUDIO_TOPN"!==t&&"ENABLE_AUDIO_METADATA"!==t&&"ENABLE_AUDIO_PTS_METADATA"!==t||!0!==e||(GA.ENABLE_ENCODED_TRANSFORM=!0,"ENABLE_AUDIO_PTS_METADATA"===t&&(GA.ENABLE_AUDIO_METADATA=!0)),"USE_NEW_NETWORK_CONFIG"===t&&e&&(n=!!e,GA.USE_NEW_NETWORK_CONFIG=n,n&&(GA.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],GA.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],GA.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],GA.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],GA.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",GA.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",GA.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===t&&e&&(GA.ENABLE_INSTANT_VIDEO=!0,GA.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===t&&e&&(GA.ENABLE_AUT_CC=!0),"NEW_FORCE_TURN"===t&&e&&(GA.NEW_TURN_MODE||(GA.NEW_TURN_MODE=4))))}function HA(t){return GA[t]}BA||(GA.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],GA.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],GA.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],GA.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],GA.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],GA.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],GA.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",GA.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",GA.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",GA.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",GA.AREAS=["NORTH_AMERICA","OVERSEA"]),function(t){t[t.REALTIME=1]="REALTIME"}({});const KA={};var YA=function(t){return t.SET_SESSION_ID="SET_SESSION_ID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.AVOID_JOIN_START="AVOID_JOIN_START",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",t}(YA||{});!function(t){t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1"}({}),function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"}({}),(()=>{var t={8:(t,e,r)=>{r.r(e),r.d(e,{Parser:()=>I,Printer:()=>C,parse:()=>w,print:()=>D});const n="\n",i="".concat("\r").concat(n),o=" ";let s;function a(t){return t>="0"&&t<="9"}function c(t){return t>="!"&&t<="~"}function u(t){return c(t)||t>="Â"&&t<="Ã¿"}function E(t){return"!"===t||t>="#"&&t<="'"||t>="*"&&t<="+"||t>="-"&&t<="."||t>="0"&&t<="9"||t>="A"&&t<="Z"||t>="^"&&t<="~"}function l(t){return t>="1"&&t<="9"}function p(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"}function d(t){return"d"===t||"h"===t||"m"===t||"s"===t}function h(t){return t>""&&t<"\t"||t>"\v"&&t<"\f"||t>""&&t<"Ã¿"}function _(t){return p(t)||a(t)||"+"===t||"/"===t}function f(t){return a(t)||p(t)||"+"===t||"/"===t||"-"===t||"_"===t}function T(t){return p(t)||a(t)||"+"===t||"/"===t}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.VERSION="v",t.ORIGIN="o",t.SESSION_NAME="s",t.INFORMATION="i",t.URI="u",t.EMAIL="e",t.PHONE="p",t.CONNECTION="c",t.BANDWIDTH="b",t.TIME="t",t.REPEAT="r",t.ZONE_ADJUSTMENTS="z",t.KEY="k",t.ATTRIBUTE="a",t.MEDIA="m"}(s||(s={}));class S{consumeText(t,e){let r=e;for(;r<t.length;){const e=t[r];if("\0"===e||"\r"===e||e===n)break;r+=1}if(r-e==0)throw new Error("Invalid text, at ".concat(t));return r}consumeUnicastAddress(t,e,r){return this.consumeTill(t,e,o)}consumeOneOrMore(t,e,r){let n=e;for(;r(t[n]);)n++;if(n-e==0)throw new Error("Invalid rule at ".concat(e,"."));return n}consumeSpace(t,e){if(t[e]===o)return e+1;throw new Error("Invalid space at ".concat(e,"."))}consumeIP4Address(t,e){let r=e;for(let e=0;e<4;e++)if(r=this.consumeDecimalUChar(t,r),3!==e){if("."!==t[r])throw new Error("Invalid IP4 address.");r++}return r}consumeDecimalUChar(t,e){let r=e;for(let e=0;e<3&&a(t[r]);e++,r++);if(r-e==0)throw new Error("Invalid decimal uchar.");const n=parseInt(t.slice(e,r));if(n>=0&&n<=255)return r;throw new Error("Invalid decimal uchar")}consumeIP6Address(t,e){let r=this.consumeHexpart(t,e);return":"===t[r]?(r+=1,r=this.consumeIP4Address(t,r),r):r}consumeHexpart(t,e){let r=e;if(":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}if(r=this.consumeHexseq(t,r),":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}return r}consumeHexseq(t,e){let r=e;for(;r=this.consumeHex4(t,r),":"===t[r]&&":"!==t[r+1];)r+=1;return r}consumeHex4(t,e){let r=0;for(;r<4;r++)if(!((n=t[e+r])>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F")){if(0===r)throw new Error("Invalid hex 4");break}var n;return e+r}consumeFQDN(t,e){let r=e;for(;a(t[r])||p(t[r])||"-"===t[r]||"."===t[r];)r+=1;if(r-e<4)throw new Error("Invalid FQDN");return r}consumeExtnAddr(t,e){return this.consumeOneOrMore(t,e,u)}consumeMulticastAddress(t,e,r){switch(r){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(t,e);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(t,e);default:try{return this.consumeFQDN(t,e)}catch(r){return this.consumeExtnAddr(t,e)}}}consumeIP6MulticastAddress(t,e){const r=this.consumeHexpart(t,e);return"/"===t[r]?this.consumeInteger(t,r+1):r}consumeIP4MulticastAddress(t,e){let r=e+3;const n=t.slice(e,r),i=parseInt(n);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let e=0;e<3;e++){if("."!==t[r])throw new Error("Invalid IP4 multicast address.");r+=1,r=this.consumeDecimalUChar(t,r)}return"/"===t[r]&&(r+=1),r=this.consumeTTL(t,r),"/"===t[r]&&(r=this.consumeInteger(t,r)),r}consumeInteger(t,e){if(!l(t[e]))throw new Error("Invalid integer.");for(e+=1;a(t[e]);)e+=1;return e}consumeTTL(t,e){if("0"===t[e])return e+1;if(!l(t[e]))throw new Error("Invalid TTL.");e+=1;for(let r=0;r<2&&a(t[e]);r++)e+=1;return e}consumeToken(t,e){return this.consumeOneOrMore(t,e,E)}consumeTime(t,e){let r=e;if("0"===t[r])return r+1;for(l(t[r])&&(r+=1);a(t[r]);)r++;if(r-e<10)throw new Error("Invalid time");return r}consumeAddress(t,e){return this.consumeTill(t,e,o)}consumeTypedTime(t,e){let r=e;return r=this.consumeOneOrMore(t,r,a),d(t[r])?r+1:r}consumeRepeatInterval(t,e){if(!l(t[e]))throw new Error("Invalid repeat interval");for(e+=1;a(t[e]);)e+=1;return d(t[e])&&(e+=1),e}consumePort(t,e){return this.consumeOneOrMore(t,e,a)}consume(t,e,r){for(let n=0;n<r.length;n++){if(e+n>=t.length)throw new Error("consume exceeding value length");if(t[e+n]!==r[n])throw new Error("consume ".concat(r," failed at ").concat(n))}return e+r.length}consumeTill(t,e,r){let n=e;for(;n<t.length&&("string"!=typeof r||t[n]!==r)&&("function"!=typeof r||!r(t[n]));)n++;return n}}class I extends S{constructor(){super(),O(this,"records",[]),O(this,"currentLine",0)}parse(t){const e=this.probeEOL(t);this.records=t.split(e).filter((t=>!!t.trim())).map(this.parseLine),this.currentLine=0;const r=this.parseVersion(),n=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),E=this.parseBandWidth(),l=this.parseTimeFields(),p=this.parseKey(),d=this.parseSessionAttribute(),h=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:r,origin:n,sessionName:i,information:o,uri:s,emails:a,phones:c,connection:u,bandwidths:E,timeFields:l,key:p,attributes:d,mediaDescriptions:h}}getCurrentRecord(){const t=this.records[this.currentLine];if(!t)throw new Error("Record doesn't exit.");return t}probeEOL(t){for(let e=0;e<t.length;e++)if(t[e]===n)return"\r"===t[e-1]?i:n;throw new Error("Invalid newline character.")}parseLine(t,e){if(t.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const r=t[0];if("="!==t[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:r,value:t.slice(2),line:e,cur:0}}parseSessionAttribute(){const t=new N;for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(e,(t=>E(t)&&":"!==t)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,r.attValue=this.extractOneOrMore(e,h)),t.parse(r),this.currentLine++}return t.digest()}parseMediaAttributes(t){const e=new g(t);for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(t,(t=>E(t)&&":"!==t)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,r.attValue=this.extractOneOrMore(t,h)),e.parse(r),this.currentLine++}return e.digest()}parseKey(){const t=this.getCurrentRecord();if(t.type===s.KEY){if("prompt"===t.value||"clear:"===t.value||"base64:"===t.value||"uri:"===t.value)return t.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const t=this.getCurrentRecord();if(t.type===s.ZONE_ADJUSTMENTS){const e=[];for(;;)try{const r=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);let n=!1;"-"===t.value[t.cur]&&(n=!0,t.cur+=1);const i=this.extract(t,this.consumeTypedTime);e.push({time:r,typedTime:i,back:n})}catch(t){break}if(0===e.length)throw new Error("Invalid zone adjustments");return this.currentLine++,e}return[]}parseRepeat(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.REPEAT)break;{const r=this.extract(e,this.consumeRepeatInterval),n=this.parseTypedTime(e);t.push({repeatInterval:r,typedTimes:n}),this.currentLine++}}return t}parseTypedTime(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeTypedTime))}catch(t){break}if(0===e.length)throw new Error("Invalid typed time.");return e}parseTime(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);const r=this.extract(t,this.consumeTime);return this.currentLine++,{startTime:e,stopTime:r}}parseBandWidth(){const t=[];for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.BANDWIDTH)break;{const r=this.extractOneOrMore(e,E);if(":"!==e.value[e.cur])throw new Error("Invalid bandwidth field.");e.cur++;const n=this.extractOneOrMore(e,a);t.push({bwtype:r,bandwidth:n}),this.currentLine++}}return t}parseVersion(){const t=this.getCurrentRecord();if(t.type!==s.VERSION)throw new Error("first sdp record must be version");const e=t.value.slice(0,this.consumeOneOrMore(t.value,0,a));if(e.length!==t.value.length)throw new Error('invalid proto version, "v='.concat(t.value,'"'));return this.currentLine++,e}parseOrigin(){const t=this.getCurrentRecord();if(t.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const e=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const n=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const i=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const o=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const c=this.extract(t,this.consumeUnicastAddress);return this.currentLine++,{username:e,sessId:r,sessVersion:n,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const t=this.getCurrentRecord();if(t.type===s.SESSION_NAME){const e=this.extract(t,this.consumeText);return this.currentLine++,e}}parseInformation(){const t=this.getCurrentRecord();if(t.type!==s.INFORMATION)return;const e=this.extract(t,this.consumeText);return this.currentLine++,e}parseUri(){const t=this.getCurrentRecord();if(t.type===s.URI)return this.currentLine++,t.value}parseEmail(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.EMAIL)break;t.push(e.value),this.currentLine++}return t}parsePhone(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.PHONE)break;t.push(e.value),this.currentLine++}return t}parseConnection(){const t=this.getCurrentRecord();if(t.type===s.CONNECTION){const e=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const n=this.extract(t,this.consumeAddress);return this.currentLine++,{nettype:e,addrtype:r,address:n}}}parseMedia(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeToken);this.consumeSpaceForRecord(t);let r=this.extract(t,this.consumePort);"/"===t.value[t.cur]&&(t.cur+=1,r+=this.extract(t,this.consumeInteger)),this.consumeSpaceForRecord(t);const n=[];for(n.push(this.extract(t,this.consumeToken));"/"===t.value[t.cur];)t.cur+=1,n.push(this.extract(t,this.consumeToken));if(0===n.length)throw new Error("Invalid proto");const i=this.parseFmt(t);return this.currentLine++,{mediaType:e,port:r,protos:n,fmts:i}}parseTimeFields(){const t=[];for(;this.getCurrentRecord().type===s.TIME;){const e=this.parseTime(),r=this.parseRepeat(),n=this.parseZone();t.push({time:e,repeats:r,zones:n})}return t}parseMediaDescription(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const e=this.parseMedia(),r=this.parseInformation(),n=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(e);t.push({media:e,information:r,connections:n,bandwidths:i,key:o,attributes:s})}return t}parseConnections(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)t.push(this.parseConnection());return t}parseFmt(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeToken))}catch(t){break}if(0===e.length)throw new Error("Invalid fmts");return e}extract(t,e,...r){const n=e.call(this,t.value,t.cur,...r),i=t.value.slice(t.cur,n);return t.cur=n,i}extractOneOrMore(t,e){const r=this.consumeOneOrMore(t.value,t.cur,e),n=t.value.slice(t.cur,r);return t.cur=r,n}consumeSpaceForRecord(t){if(t.value[t.cur]!==o)throw new Error("Invalid space at ".concat(t.cur,"."));t.cur+=1}}class m extends S{constructor(...t){super(...t),O(this,"attributes",void 0),O(this,"digested",!1)}extractOneOrMore(t,e,r){const n=this.consumeOneOrMore(t.attValue,t._cur,e),i=t.attValue.slice(t._cur,n),[o,s]=r||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof s&&i.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return t._cur=n,i}consumeAttributeSpace(t){if(t.attValue[t._cur]!==o)throw new Error("Invalid space at ".concat(t._cur,"."));t._cur+=1}extract(t,e,...r){if(!t.attValue)throw new Error("Nothing to extract from attValue.");const n=e.call(this,t.attValue,t._cur,...r),i=t.attValue.slice(t._cur,n);return t._cur=n,i}atEnd(t){if(!t.attValue)throw new Error;return t._cur>=t.attValue.length}peekChar(t){if(!t.attValue)throw new Error;return t.attValue[t._cur]}peek(t,e){if(!t.attValue)throw new Error;for(let r=0;r<e.length;r++)if(e[r]!==t.attValue[t._cur+r])return!1;return!0}parseIceUfrag(t){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(t,_,[4,256])}parseIcePwd(t){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(t,_,[22,256])}parseIceOptions(t){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const e=[];for(;!this.atEnd(t);){e.push(this.extractOneOrMore(t,_));try{this.consumeAttributeSpace(t)}catch(e){if(this.atEnd(t))break;throw e}}this.attributes.iceOptions=e}parseFingerprint(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill);this.attributes.fingerprints.push({hashFunction:e,fingerprint:r})}parseExtmap(t){const e=this.extractOneOrMore(t,a);let r;"/"===this.peekChar(t)&&(this.extract(t,this.consume,"/"),r=this.extract(t,this.consumeToken)),this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,o),i=A(A({entry:parseInt(e,10)},r&&{direction:r}),{},{extensionName:n});this.peekChar(t)===o&&(this.consumeAttributeSpace(t),i.extensionAttributes=this.extract(t,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(t){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const e=this.extract(t,this.consumeTill);if("active"!==e&&"passive"!==e&&"actpass"!==e&&"holdconn"!==e)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=e}}class N extends m{constructor(...t){super(...t),O(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"group":this.parseGroup(t);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"fingerprint":this.parseFingerprint(t);break;case"setup":this.parseSetup(t);break;case"tls-id":this.parseTlsId(t);break;case"identity":this.parseIdentity(t);break;case"extmap":this.parseExtmap(t);break;case"msid-semantic":this.parseMsidSemantic(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing session attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;)this.consumeAttributeSpace(t),r.push(this.extract(t,this.consumeToken));this.attributes.groups.push({semantic:e,identificationTag:r})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(t){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(t,f)}parseIdentity(t){const e=this.extractOneOrMore(t,T),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.extract(t,this.consume,"=");const n=this.extractOneOrMore(t,(t=>t!==o&&h(t)));r.push({name:e,value:n})}this.attributes.identities.push({assertionValue:e,extensions:r})}parseMsidSemantic(t){this.peekChar(t)===o&&this.consumeAttributeSpace(t);const e={semantic:this.extract(t,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(t)}catch(t){break}if("*"===this.peekChar(t)){this.extract(t,this.consume,"*"),e.applyForAll=!0;break}{const r=this.extract(t,this.consumeTill,o);e.identifierList.push(r)}}this.attributes.msidSemantic=e}}class g extends m{constructor(t){super(),O(this,"attributes",void 0),-1!==t.protos.indexOf("RTP")||t.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"extmap":this.parseExtmap(t);break;case"setup":this.parseSetup(t);break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"candidate":this.parseCandidate(t);break;case"remote-candidate":this.parseRemoteCandidate(t);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(t);break;case"rtpmap":this.parseRtpmap(t);break;case"ptime":this.parsePtime(t);break;case"maxptime":this.parseMaxPtime(t);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(t);break;case"ssrc":this.parseSSRC(t);break;case"fmtp":this.parseFmtp(t);break;case"rtcp-fb":this.parseRtcpFb(t);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(t);break;case"mid":this.parseMid(t);break;case"msid":this.parseMsid(t);break;case"imageattr":this.parseImageAttr(t);break;case"rid":this.parseRid(t);break;case"simulcast":this.parseSimulcast(t);break;case"sctp-port":this.parseSctpPort(t);break;case"max-message-size":this.parseMaxMessageSize(t);break;case"ssrc-group":this.parseSSRCGroup(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing media attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}parseCandidate(t){const e=this.extractOneOrMore(t,_,[1,32]);this.consumeAttributeSpace(t);const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const i=this.extractOneOrMore(t,a,[1,10]);this.consumeAttributeSpace(t);const s=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const u=this.extract(t,this.consumePort);this.consumeAttributeSpace(t),this.extract(t,this.consume,"typ"),this.consumeAttributeSpace(t);const E={foundation:e,componentId:r,transport:n,priority:i,connectionAddress:s,port:u,type:this.extract(t,this.consumeToken),extension:{}};for(this.peek(t," raddr")&&(this.extract(t,this.consume," raddr"),this.consumeAttributeSpace(t),E.relAddr=this.extract(t,this.consumeAddress)),this.peek(t," rport")&&(this.extract(t,this.consume," rport"),this.consumeAttributeSpace(t),E.relPort=this.extract(t,this.consumePort));this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t),E.extension[e]=this.extractOneOrMore(t,c)}this.attributes.candidates.push(E)}parseRemoteCandidate(t){const e=[];for(;;){const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const i=this.extract(t,this.consumePort);e.push({componentId:r,connectionAddress:n,port:i});try{this.consumeAttributeSpace(t)}catch(t){break}}this.attributes.remoteCandidatesList.push(e)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,"/");this.extract(t,this.consume,"/");const n={encodingName:r,clockRate:this.extractOneOrMore(t,a)};this.atEnd(t)||"/"!==this.peekChar(t)||(this.extract(t,this.consume,"/"),n.encodingParameters=parseInt(this.extract(t,this.consumeTill),10));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(e,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(t){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(t,this.consumeTill)}parseMaxPtime(t){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(t,this.consumeTill)}parseDirection(t){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=t.attField}parseSSRC(t){const e=this.extractOneOrMore(t,a);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,":");let n;":"===this.peekChar(t)&&(this.extract(t,this.consume,":"),n=this.extract(t,this.consumeTill));const i=this.attributes.ssrcs.find((t=>t.ssrcId===parseInt(e,10)));i?i.attributes[r]=n:this.attributes.ssrcs.push({ssrcId:parseInt(e,10),attributes:{[r]:n}})}parseFmtp(t){const e=this.extract(t,this.consumeTill,o);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill),n={};r.split(";").forEach((t=>{let[e,r]=t.split("=");e=e.trim();const i="string"==typeof r?r.trim():null;"string"==typeof e&&e.length>0&&(n[e]=i)}));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(t){const e={},r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");for(e[r]=n;";"===t.attValue[t._cur];){const r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");e[r]=n}return e}parseRtcpFb(t){let e="";e="*"===this.peekChar(t)?this.extract(t,this.consume,"*"):this.extract(t,this.consumeTill,o),this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,o);let n;if("trr-int"===r)n={type:r,interval:this.extract(t,this.consumeTill)};else{const e={type:r};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.parameter=this.extract(t,this.consumeToken),this.peekChar(t)===o&&(e.additional=this.extract(t,this.consumeTill))),n=e}if("*"===e)this.attributes.rtcpFeedbackWildcards.push(n);else{const t=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));t?t.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(t){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const e={port:this.extract(t,this.consumePort)};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.netType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.addressType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.address=this.extract(t,this.consumeAddress)),this.attributes.rtcp=e}parseMsid(t){const e={id:this.extractOneOrMore(t,E,[1,64])};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.appdata=this.extractOneOrMore(t,E,[1,64])),this.attributes.msids.push(e)}parseImageAttr(t){this.attributes.imageattr.push(t.attValue)}parseRid(t){const e=this.extractOneOrMore(t,(t=>p(t)||a(t)||"_"===t||"-"===t));this.consumeAttributeSpace(t);const r={id:e,direction:this.extract(t,this.consumeToken),params:[]};if(this.peekChar(t)===o){if(this.consumeAttributeSpace(t),this.peek(t,"pt=")){this.extract(t,this.consume,"pt=");const e=[];for(;;){const r=this.extract(t,this.consumeToken);e.push(r);try{this.extract(t,this.consume,",")}catch(t){break}}r.payloads=e,this.peekChar(t)===o&&this.extract(t,this.consume,o)}for(;;){const e=this.extract(t,this.consumeToken);switch(e){case"depend":{const n={type:e,rids:this.extract(t,this.consume,"=").split(",")};r.params.push(n);break}default:{const n={type:e};"="===this.peekChar(t)&&(this.extract(t,this.consume,"="),n.val=this.extract(t,this.consumeTill,";")),r.params.push(n)}}try{this.extract(t,this.consume,";")}catch(t){break}}}this.attributes.rids.push(r)}parseSimulcast(t){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=t.attValue,this.extract(t,this.consumeTill)}parseSctpPort(t){this.attributes.sctpPort=this.extractOneOrMore(t,a,[1,5])}parseMaxMessageSize(t){this.attributes.maxMessageSize=this.extractOneOrMore(t,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(t){this.attributes.mid=this.extract(t,this.consumeToken)}parseSSRCGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;;)try{this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeInteger);r.push(parseInt(e,10))}catch(t){break}this.attributes.ssrcGroups.push({semantic:e,ssrcIds:r})}}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class C{constructor(){b(this,"eol",i)}print(t,e){let r="";return e&&(this.eol=e),r+=this.printVersion(t.version),r+=this.printOrigin(t.origin),r+=this.printSessionName(t.sessionName),r+=this.printInformation(t.information),r+=this.printUri(t.uri),r+=this.printEmail(t.emails),r+=this.printPhone(t.phones),r+=this.printConnection(t.connection),r+=this.printBandwidth(t.bandwidths),r+=this.printTimeFields(t.timeFields),r+=this.printKey(t.key),r+=this.printSessionAttributes(t.attributes),r+=this.printMediaDescription(t.mediaDescriptions),r}printVersion(t){return"v=".concat(t).concat(this.eol)}printOrigin(t){return"o=".concat(t.username," ").concat(t.sessId," ").concat(t.sessVersion," ").concat(t.nettype," ").concat(t.addrtype," ").concat(t.unicastAddress).concat(this.eol)}printSessionName(t){return t?"s=".concat(t).concat(this.eol):""}printInformation(t){return t?"i=".concat(t).concat(this.eol):""}printUri(t){return t?"u=".concat(t).concat(this.eol):""}printEmail(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printPhone(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printConnection(t){return t?"c=".concat(t.nettype," ").concat(t.addrtype," ").concat(t.address).concat(this.eol):""}printBandwidth(t){let e="";for(const r of t)e+="b=".concat(r.bwtype,":").concat(r.bandwidth).concat(this.eol);return e}printTimeFields(t){let e="";for(const r of t){e+="t=".concat(r.time.startTime," ").concat(r.time.startTime).concat(this.eol);for(const t of r.repeats)e+="r=".concat(t.repeatInterval," ").concat(t.typedTimes.join(" ")).concat(this.eol);r.zoneAdjustments&&(e+="z=",e+="z=".concat(r.zoneAdjustments.map((t=>"".concat(t.time," ").concat(t.back?"-":""," ").concat(t.typedTime))).join(" ")).concat(this.eol),e+=this.eol)}return e}printKey(t){return t?"k=".concat(t).concat(this.eol):""}printAttributes(t){let e="";for(const r of t)e+="a=".concat(r.attField).concat(r.attValue?":".concat(r.attValue):"").concat(this.eol);return e}printMediaDescription(t){let e="";for(const r of t)e+=this.printMedia(r.media),e+=this.printInformation(r.information),e+=this.printConnections(r.connections),e+=this.printBandwidth(r.bandwidths),e+=this.printKey(r.key),e+=this.printMediaAttributes(r);return e}printConnections(t){let e="";for(const r of t)e+=this.printConnection(r);return e}printMedia(t){return"m=".concat(t.mediaType," ").concat(t.port," ").concat(t.protos.join("/")," ").concat(t.fmts.join(" ")).concat(this.eol)}printSessionAttributes(t){return new L(this.eol).print(t)}printMediaAttributes(t){return new v(this.eol).print(t)}}class y{constructor(t){b(this,"eol",void 0),this.eol=t}printIceUfrag(t){return void 0===t?"":"a=ice-ufrag:".concat(t).concat(this.eol)}printIcePwd(t){return void 0===t?"":"a=ice-pwd:".concat(t).concat(this.eol)}printIceOptions(t){return void 0===t?"":"a=ice-options:".concat(t.join(o)).concat(this.eol)}printFingerprints(t){return t.length>0?t.map((t=>"a=fingerprint:".concat(t.hashFunction).concat(o).concat(t.fingerprint))).join(this.eol)+this.eol:""}printExtmap(t){return t.map((t=>"a=extmap:".concat(t.entry).concat(t.direction?"/".concat(t.direction):"").concat(o).concat(t.extensionName).concat(t.extensionAttributes?"".concat(o).concat(t.extensionAttributes):"").concat(this.eol))).join("")}printSetup(t){return void 0===t?"":"a=setup:".concat(t).concat(this.eol)}printUnrecognized(t){return t.map((t=>"a=".concat(t.attField).concat(t.attValue?":".concat(t.attValue):"").concat(this.eol))).join("")}}class L extends y{print(t){let e="";return e+=this.printGroups(t.groups),e+=this.printMsidSemantic(t.msidSemantic),e+=this.printIceLite(t.iceLite),e+=this.printIceUfrag(t.iceUfrag),e+=this.printIcePwd(t.icePwd),e+=this.printIceOptions(t.iceOptions),e+=this.printFingerprints(t.fingerprints),e+=this.printSetup(t.setup),e+=this.printTlsId(t.tlsId),e+=this.printIdentity(t.identities),e+=this.printExtmap(t.extmaps),e+=this.printUnrecognized(t.unrecognized),e}printGroups(t){let e="";return t.length>0&&(e+=t.map((t=>"a=group:".concat(t.semantic).concat(t.identificationTag.map((t=>"".concat(o).concat(t))).join("")).concat(this.eol))).join("")),e}printIceLite(t){return void 0===t?"":"a=ice-lite"+this.eol}printTlsId(t){return t?"a=tls-id:".concat(t).concat(this.eol):""}printIdentity(t){return 0===t.length?"":t.map((t=>"a=identity:".concat(t.assertionValue).concat(t.extensions.map((t=>"".concat(o).concat(t.name).concat(t.value?"=".concat(t.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(t){if(!t)return"";let e="a=msid-semantic:".concat(t.semantic);return t.applyForAll?e+="".concat(o,"*"):t.identifierList.length>0&&(e+=t.identifierList.map((t=>"".concat(o).concat(t)))),e+this.eol}}class v extends y{print(t){const e=t.attributes;let r="";return r+=this.printRTCP(e.rtcp),r+=this.printIceUfrag(e.iceUfrag),r+=this.printIcePwd(e.icePwd),r+=this.printIceOptions(e.iceOptions),r+=this.printCandidates(e.candidates),r+=this.printRemoteCandidatesList(e.remoteCandidatesList),r+=this.printEndOfCandidates(e.endOfCandidates),r+=this.printFingerprints(e.fingerprints),r+=this.printSetup(e.setup),r+=this.printMid(e.mid),r+=this.printExtmap(e.extmaps),r+=this.printRTPRelated(e),r+=this.printPtime(e.ptime),r+=this.printMaxPtime(e.maxPtime),r+=this.printDirection(e.direction),r+=this.printSSRCGroups(e.ssrcGroups),r+=this.printSSRC(e.ssrcs),r+=this.printRTCPMux(e.rtcpMux),r+=this.printRTCPMuxOnly(e.rtcpMuxOnly),r+=this.printRTCPRsize(e.rtcpRsize),r+=this.printMSId(e.msids),r+=this.printImageattr(e.imageattr),r+=this.printRid(e.rids),r+=this.printSimulcast(e.simulcast),r+=this.printSCTPPort(e.sctpPort),r+=this.printMaxMessageSize(e.maxMessageSize),r+=this.printUnrecognized(e.unrecognized),r}printCandidates(t){return t.map((t=>"a=candidate:".concat(t.foundation).concat(o).concat(t.componentId).concat(o).concat(t.transport).concat(o).concat(t.priority).concat(o).concat(t.connectionAddress).concat(o).concat(t.port).concat(o,"typ").concat(o).concat(t.type).concat(t.relAddr?"".concat(o,"raddr").concat(o).concat(t.relAddr):"").concat(t.relPort?"".concat(o,"rport").concat(o).concat(t.relPort):"").concat(Object.keys(t.extension).map((e=>"".concat(o).concat(e).concat(o).concat(t.extension[e]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(t){return t.map((t=>"a=remote-candidates:".concat(t.join(o)).concat(this.eol))).join("")}printEndOfCandidates(t){return void 0===t?"":"a=end-of-candidates"+this.eol}printRTPRelated(t){if(!t.payloads)return"";const e=t.payloads;let r="";r+=t.rtcpFeedbackWildcards.map((t=>this.printRTCPFeedback("*",t))).join("");for(const t of e)r+=this.printRtpMap(t.payloadType,t.rtpMap),r+=this.printFmtp(t.payloadType,t.fmtp),r+=t.rtcpFeedbacks.map((e=>this.printRTCPFeedback(t.payloadType,e))).join("");return r}printFmtp(t,e){if(!e)return"";const r=Object.keys(e.parameters);return 1===r.length&&null===e.parameters[r[0]]?"a=fmtp:".concat(t).concat(o).concat(r[0]).concat(this.eol):"a=fmtp:".concat(t).concat(o).concat(Object.keys(e.parameters).map((t=>"".concat(t,"=").concat(e.parameters[t]))).join(";")).concat(this.eol)}printRtpMap(t,e){return e?"a=rtpmap:".concat(t).concat(o).concat(e.encodingName,"/").concat(e.clockRate).concat(e.encodingParameters?"/".concat(e.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(t,e){let r="a=rtcp-fb:".concat(t).concat(o),n=e;return"trr-int"===n.type?r+="ttr-int".concat(o).concat(n.interval):(r+="".concat(n.type),n.parameter&&(r+="".concat(o).concat(n.parameter),n.additional&&(r+="".concat(o).concat(n.additional)))),r+this.eol}printPtime(t){return void 0===t?"":"a=ptime:".concat(t).concat(this.eol)}printMaxPtime(t){return void 0===t?"":"a=maxptime:".concat(t).concat(this.eol)}printDirection(t){return void 0===t?"":"a=".concat(t).concat(this.eol)}printSSRC(t){return t.map((t=>Object.keys(t.attributes).map((e=>"a=ssrc:".concat(t.ssrcId.toString(10)).concat(o).concat(e).concat(t.attributes[e]?":".concat(t.attributes[e]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(t){return void 0===t?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(t){return void 0===t?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(t){return void 0===t?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(t){if(void 0===t)return"";let e="a=rtcp:".concat(t.port);return t.netType&&(e+="".concat(o).concat(t.netType)),t.addressType&&(e+="".concat(o).concat(t.addressType)),t.address&&(e+="".concat(o).concat(t.address)),e+this.eol}printMSId(t){return t.map((t=>"a=msid:".concat(t.id).concat(t.appdata?"".concat(o).concat(t.appdata):"").concat(this.eol))).join("")}printImageattr(t){return t.map((t=>"a=imageattr:".concat(t).concat(this.eol))).join("")}printRid(t){return t.map((t=>{let e="a=rid:".concat(t.id).concat(o).concat(t.direction);return t.payloads&&(e+="".concat(o,"pt=").concat(t.payloads.join(","))),t.params.length>0&&(e+="".concat(o).concat(t.params.map((t=>"depend"===t.type?"depend=".concat(t.rids.join(",")):"".concat(t.type,"=").concat(t.val))).join(";"))),e+this.eol})).join("")}printSimulcast(t){return void 0===t?"":"a=simulcast:".concat(t).concat(this.eol)}printSCTPPort(t){return void 0===t?"":"a=sctp-port:".concat(t).concat(this.eol)}printMaxMessageSize(t){return void 0===t?"":"a=max-message-size:".concat(t).concat(this.eol)}printMid(t){return void 0===t?"":"a=mid:".concat(t).concat(this.eol)}printSSRCGroups(t){return t.map((t=>"a=ssrc-group:".concat(t.semantic).concat(t.ssrcIds.map((t=>"".concat(o).concat(t.toString(10)))).join("")).concat(this.eol))).join("")}}function w(t){return(new I).parse(t)}function D(t,e){return(new C).print(t,e)}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(8)})();const zA=new class extends OA{constructor(){super(...arguments),LE(this,"currentUploadLogID",0)}reportLogUploadError(t){const{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit("REPORT_LOG_UPLOAD",t))}};class JA{constructor(t){LE(this,"logger",void 0),LE(this,"prefixLists",[]),this.logger=t}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.debug(...this.prefixLists,...e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.info(...this.prefixLists,...e)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.warning(...this.prefixLists,...e)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.error(...this.prefixLists,...e)}prefix(t){return this.prefixLists.push(t),this}popPrefix(){return this.prefixLists.pop(),this}}function XA(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}function qA(){const t=new Date,e=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return e?(null==e?void 0:e[0])+":"+t.getUTCMilliseconds():t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const QA={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},ZA=Date.now(),$A=t=>{for(const e in QA)if(Object.prototype.hasOwnProperty.call(QA,e)&&QA[e]===t)return e;return"DEFAULT"};class tO{constructor(){LE(this,"proxyServerURL",void 0),LE(this,"logLevel",QA.DEBUG),LE(this,"uploadState","collecting"),LE(this,"uploadLogWaitingList",[]),LE(this,"uploadLogUploadingList",[]),LE(this,"uploadErrorCount",0),LE(this,"currentLogID",0),LE(this,"url",void 0),LE(this,"extLog",((t,e)=>{this.appendLogToWaitingList(t,...e)}))}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[QA.DEBUG].concat(e);this.log.apply(this,n)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[QA.INFO].concat(e);this.log.apply(this,n)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[QA.WARNING].concat(e);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[QA.ERROR].concat(e);this.log.apply(this,n)}upload(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[QA.DEBUG].concat(e);this.uploadLog.apply(this,n)}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t}enableLogUpload(){jA("UPLOAD_LOG",!0)}disableLogUpload(){jA("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(t){this.proxyServerURL=t}prefix(t){return new JA(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-ZA<100)return void setTimeout((()=>{this.log(...e)}),Date.now()-ZA);const n=Math.max(0,Math.min(4,e[0]));if(e[0]=XA()+" Agora-SDK [".concat($A(n),"]:"),this.appendLogToWaitingList(n,...e),n<this.logLevel)return;const i=XA()+" %cAgora-SDK [".concat($A(n),"]:");let o=[];if(!HA("USE_NEW_LOG"))switch(n){case QA.DEBUG:o=[i,"color: #64B5F6;"].concat(e.slice(1)),console.log.apply(console,o);break;case QA.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(e.slice(1)),console.log.apply(console,o);break;case QA.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(e.slice(1)),console.warn.apply(console,o);break;case QA.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(e.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-ZA<100)return void setTimeout((()=>{this.uploadLog(...e)}),Date.now()-ZA);const n=Math.max(0,Math.min(4,e[0]));e[0]=XA()+" Agora-SDK [".concat($A(n),"]:"),this.appendLogToWaitingList(n,...e)}appendLogToWaitingList(t){if(!HA("UPLOAD_LOG"))return;for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];Array.isArray(r[0])?r[0][0]=qA()+" Agora-SDK [".concat($A(t),"]:"):r[0]=qA()+" Agora-SDK [".concat($A(t),"]:");let i="";r.forEach((t=>{"object"==typeof t&&(t=JSON.stringify(t)),i+="".concat(t," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:t,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const t=this.uploadLogUploadingList,e={sdk_version:VA,process_id:HA("PROCESS_ID"),payload:JSON.stringify(t)};return function(t,e,r,n){const i=Object.assign({},wA,n);let o=i.timeout;const s=async()=>{await function(t){return new Promise((e=>{window.setTimeout(e,t)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let a=!1;const c=new Promise((async(n,o)=>{e=e||(()=>!1),r=r||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(a)return o(new _A(hA.OPERATION_ABORTED));try{const r=await t();if(!e(r,c))return n(r);if(c+1===i.maxRetryCount)return n(r);await s()}catch(t){if(!r(t,c))return o(t);if(c+1===i.maxRetryCount)return o(t);await s()}}}));return c.cancel=()=>a=!0,c}((async()=>{const t=await EA.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(HA("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(HA("LOG_UPLOAD_SERVER"),"/upload/v1")),e,{responseType:"text"});if("OK"!==t.data){const e=new Error("unexpected upload log response");throw e.response=t,e}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>{const r={status:-1,message:e.message,errorRange:t.map((t=>t.log_item_id))};return e.response?(r.status=e.response.status,r.data=e.response.data,r.headers=e.response.headers):e.request&&(r.status=e.request.status),zA.reportLogUploadError(r),!0}),{timeout:HA("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:HA("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,HA("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),HA("UPLOAD_LOG_INTERVAL"))})).catch((t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),HA("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),HA("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}}const eO=new tO;let rO=function(t){return t.FREE="free",t.UPLOADING="uploading",t}({}),nO=function(t){return t[t.MISC=0]="MISC",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT",t[t.PUBLIC_EVENT=2]="PUBLIC_EVENT",t[t.WEB_EVENT=3]="WEB_EVENT",t[t.INTERNAL_API=4]="INTERNAL_API",t[t.WEB_API=5]="WEB_API",t[t.PUBLIC_API=6]="PUBLIC_API",t}({});const iO={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let oO=function(t){return t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.WS_COMPRESSOR_INIT="ws_compressor_init",t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.REQ_USER_ACCOUNT="req_user_account",t.JOIN_GATEWAY="join_gateway",t.REJOIN_GATEWAY="rejoin_gateway",t.STREAM_SWITCH="stream_switch",t.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",t.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",t.FIRST_VIDEO_RECEIVED="first_video_received",t.FIRST_AUDIO_RECEIVED="first_audio_received",t.FIRST_VIDEO_DECODE="first_video_decode",t.FIRST_AUDIO_DECODE="first_audio_decode",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_UPDATE_STREAM="on_update_stream",t.ON_REMOVE_STREAM="on_remove_stream",t.USER_ANALYTICS="req_user_analytics",t.PC_STATS="pc_stats",t.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",t.AB_TEST="ab_test",t}({}),sO=function(t){return t.SESSION="io.agora.pb.Wrtc.Session",t.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",t.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",t.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",t.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",t.PUBLISH="io.agora.pb.Wrtc.Publish",t.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",t.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",t.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",t.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",t.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",t.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",t.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",t.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",t.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",t.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",t.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",t.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",t.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",t.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",t.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",t.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",t.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",t.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",t.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",t.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",t.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",t.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",t.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",t.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",t.PC_STATS="io.agora.pb.Wrtc.PCStats",t.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",t.AB_TEST="io.agora.pb.Wrtc.ABTest",t}({}),aO=function(t){return t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t}({}),cO=function(t){return t[t.SESSION=26]="SESSION",t[t.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",t[t.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",t[t.JOIN_GATEWAY=28]="JOIN_GATEWAY",t[t.PUBLISH=30]="PUBLISH",t[t.SUBSCRIBE=29]="SUBSCRIBE",t[t.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",t[t.STREAM_SWITCH=32]="STREAM_SWITCH",t[t.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",t[t.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",t[t.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",t[t.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",t[t.API_INVOKE=41]="API_INVOKE",t[t.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",t[t.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",t[t.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",t[t.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",t[t.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",t[t.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",t[t.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",t[t.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",t[t.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",t[t.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t[t.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",t[t.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",t[t.USER_ANALYTICS=1e4]="USER_ANALYTICS",t[t.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",t}({});function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function EO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uO(Object(r),!0).forEach((function(e){LE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class lO{constructor(){LE(this,"baseInfoMap",new Map),LE(this,"proxyServer",void 0),LE(this,"eventUploadTimer",void 0),LE(this,"setSessionIdTimer",void 0),LE(this,"url",void 0),LE(this,"sids",new Set),LE(this,"backupUrl",void 0),LE(this,"_appId",void 0),LE(this,"_aid",0),LE(this,"keyEventUploadPendingItems",[]),LE(this,"normalEventUploadPendingItems",[]),LE(this,"apiInvokeUploadPendingItems",[]),LE(this,"apiInvokeCount",0),LE(this,"apiInvokeLoggedCount",0),LE(this,"ltsList",[]),LE(this,"lastSendNormalEventTime",Date.now()),LE(this,"customReportCounterTimer",void 0),LE(this,"customReportCount",0),LE(this,"extApiInvoke",(async t=>{for(const e of t){const t=EO(EO({},e),{},{sid:null,invokeId:++this.apiInvokeCount,tag:SA.TRACER});this.sendApiInvoke(t)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),HA("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),HA("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(t){return this.baseInfoMap.get(t)}setAppId(t){this._appId=t,this._aid=parseInt(t.replace(/[a-fA-F0-9]{8}/g,(t=>{let[e,r]=t;return e+r})),16)||0}reportApiInvoke(t,e,r){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const n=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=!!HA("SHOW_REPORT_INVOKER_LOG"),s=!!HA("SHOW_REPORT_USER_INVOKER_LOG"),a=o||s&&e.id;a&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function u(t,r){if(a){let n="[apiInvoke-".concat(c,"]");e.id&&(n+="[".concat(e.id,"]")),e.name&&(n+="[".concat(e.name,"]")),eO.info("".concat(n," ").concat(t),"start"===t?e.options:r||"")}}const E=()=>({tag:e.tag,invokeId:i,sid:t,name:e.name,apiInvokeTime:n,options:e.options,states:e.states||null});u("start");let l=!1;bA(e.timeout).then((()=>{l||(this.sendApiInvoke(EO(EO({},E()),{},{error:hA.API_INVOKE_TIMEOUT,success:!1})),u("timeout"))}));const p=new _A(hA.UNEXPECTED_ERROR,"".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{const n=()=>{if(l)throw p;return l=!0,this.sendApiInvoke(EO(EO({},E()),{},{success:!0},e.reportResult&&{result:t})),u("onSuccess"),t};return r?vA(n,e.name+"Success",r,(()=>l=!0)):n()},onError:t=>{const n=()=>{if(l)throw t;l=!0,this.sendApiInvoke(EO(EO({},E()),{},{success:!1,error:t})),u("onFailure",t.toString())};return r?vA(n,e.name+"Error",r,(()=>l=!0)):n()}}}sessionInit(t,e){if(this.baseInfoMap.has(t))return;const r=Date.now(),n=this.createBaseInfo(t,r);n.cname=e.cname;const i=Object.assign({},{willUploadConsoleLog:HA("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:BA?"global":"oversea",areas:HA("AREAS")&&HA("AREAS").join(",")},e.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientRole:E}=e,l=Date.now(),p=EO(EO({},n),{},{eventType:oO.SESSION_INIT,appid:e.appid,browser:navigator.userAgent,buildFormat:e.buildFormat,build:"v4.23.2-1-0-g7fdaa39d-dirty(3/20/2025, 3:17:24 PM)",lts:l,elapse:l-r,extend:JSON.stringify(i),mode:e.mode,process:HA("PROCESS_ID"),appType:HA("APP_TYPE"),success:!0,version:VA,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientType:window.navigator.userAgent.includes("AgoraWebView")?42:20,clientRole:E,serviceId:HA("PROCESS_ID"),extensionID:HA("PLUGIN_INFO").join(",")||""});this.send({type:sO.SESSION,data:p},!0)}joinChooseServer(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{role:e.role,eventType:oO.JOIN_CHOOSE_SERVER,lts:i,eventElapse:e.elapse||i-e.lts,chooseServerAddr:e.csAddr,errorCode:e.ec,elapse:i-r.startTime,success:e.succ,chooseServerAddrList:JSON.stringify(e.serverList),uid:e.uid?parseInt(e.uid):null,cid:e.cid?parseInt(e.cid):null,chooseServerIp:e.csIp||"",opid:e.opid,unilbsServerIds:e.unilbsServerIds,extend:e.extend||void 0,isHttp3:e.isHttp3,corssRegionTagReq:e.corssRegionTagReq||void 0,corssRegionTagRes:e.corssRegionTagRes||void 0});this.send({type:sO.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{eventType:oO.REQ_USER_ACCOUNT,lts:i,success:e.success,serverAddress:e.serverAddr,stringUid:e.stringUid,uid:e.uid,errorCode:e.errorCode,elapse:e.elapse||i-r.startTime,eventElapse:i-e.lts,extend:JSON.stringify(e.extend)});this.send({type:sO.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info;e.vid&&(n.vid=e.vid),n.uid=e.uid,n.cid=e.cid;const i=Date.now(),{firstSuccess:o,avoidJoinStartTime:s,addr:a,isProxy:c}=e,u=i-(o&&s?s:r.startTime),E=EO(EO({},n),{},{eventType:oO.JOIN_GATEWAY,lts:i,gatewayAddr:e.addr,success:e.succ,errorCode:e.ec,errorMsg:e.errorMsg||"",elapse:u,eventElapse:i-e.lts,firstSuccess:o,signalChannel:e.signalChannel,preload:e.preload?1:0,installId:FA(),isABTestSuccess:e.isABTestSuccess?1:0}),l=E.success?1:0;if(e.succ&&(r.lastJoinSuccessTime=i),o)this.send({type:sO.JOIN_GATEWAY,data:E},!0);else{let t;if(a)if(c){const e=a.match(/h=(\d{1,3}-){3}\d{1,3}/g),r=a.match(/p=[0-9]{1,6}/g);t={isSuccess:l,gatewayIp:e&&e.length?e[0].split("=")[1].replace(/-/g,"."):"",port:r&&r.length?r[0].split("=")[1]:"",isProxy:c?1:0}}else{const e=a.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),r=a.match(/(:|p=)[0-9]{1,6}/g);t={isSuccess:l,gatewayIp:e&&e.length?e[0].split("//")[1].replace(/-/g,"."):"",port:r&&r.length?r[0].split(/:|p=/g)[1]:"",isProxy:c?1:0}}else t={isSuccess:l,gatewayIp:"",port:"",isProxy:c?1:0};delete E.success,delete E.eventType,delete E.firstSuccess,E.vid=Number(E.vid);const e=Object.assign({},E,t,{eventType:oO.REJOIN_GATEWAY});this.send({type:sO.RE_JOIN_GATEWAY,data:e},!0)}}joinChannelTimeout(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=Date.now(),i=EO(EO({},r.info),{},{lts:n,timeout:e,elapse:n-r.startTime});this.send({type:sO.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{eventType:oO.PUBLISH,lts:i,eventElapse:e.eventElapse,elapse:i-r.startTime,success:e.succ,errorCode:e.ec,videoName:e.videoName,audioName:e.audioName,screenName:e.screenName,screenshare:e.screenshare,audio:e.audio,video:e.video,p2pid:e.p2pid,publishRequestid:e.publishRequestid});this.send({type:sO.PUBLISH,data:o},!0)}subscribe(t,e,r){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,o=Date.now(),s=EO(EO({},i),{},{eventType:oO.SUBSCRIBE,lts:o,eventElapse:e.eventElapse,elapse:o-n.startTime,success:e.succ,errorCode:e.ec,video:e.video,audio:e.audio,subscribeRequestid:e.subscribeRequestid,p2pid:e.p2pid,preSsrc:e.preSsrc?1:0},r&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof e.peerid?s.peerSuid=e.peerid:s.peer=e.peerid,this.send({type:sO.SUBSCRIBE,data:s},!0)}wsCompressorInit(t){var e;const r=[...VE(e=this.baseInfoMap).call(e)],n=r.length?r[0]:"UnableToGetSid",i=this.baseInfoMap.get(n);if(!i)return;const o=i.info,s=Date.now(),a=EO(EO({},o),{},{eventType:oO.WS_COMPRESSOR_INIT,lts:s,eventElapse:t.eventElapse,elapse:s-i.startTime,status:t.status?1:2});this.send({type:sO.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=EO(EO(EO({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s,firstDecodeFrame:Math.max((n.firstFrame||s)-i.startTime,0),apEnd:Math.max(n.apEnd-i.startTime,0),apStart:Math.max(n.apStart-i.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-i.startTime,0),joinGwStart:Math.max(n.joinGwStart-i.startTime,0),pcEnd:Math.max(n.pcEnd-i.startTime,0),pcStart:Math.max(n.pcStart-i.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-i.startTime,0),subscriberStart:Math.max(n.subscriberStart-i.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-i.startTime,0)});this.send({type:r,data:a},!0)}firstRemoteFrame(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=EO(EO(EO({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s});this.send({type:r,data:a},!0)}abTest(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:oO.AB_TEST,lts:i});this.send({type:sO.AB_TEST,data:o},!0)}pcStats(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:oO.PC_STATS,lts:i,preallocation:e.preallocation?1:0});this.send({type:sO.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(t,e){if(t){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),eventType:oO.UPDATE_REMOTE_RTPCAPABILITIES,lts:i});this.send({type:sO.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=EO(EO(EO({},o),n),{},{eventType:e,lts:s});this.send({type:r,data:a},!0)}streamSwitch(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{eventType:oO.STREAM_SWITCH,lts:i,isDual:e.isdual,elapse:i-r.startTime,success:e.succ});this.send({type:sO.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{eventType:oO.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,APAddr:e.APAddr,workerManagerList:e.workerManagerList,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:sO.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{eventType:oO.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,workerManagerAddr:e.workerManagerAddr,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:sO.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(t){this.proxyServer=t,t?eO.debug("reportProxyServerurl: ".concat(t)):eO.debug("disable reportProxyServerurl: ".concat(t))}peerPublishStatus(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO({},n),{},{subscribeElapse:e.subscribeElapse,peer:e.peer,peerPublishDuration:Math.max(e.audioPublishDuration,e.videoPublishDuration),audiotag:e.audioPublishDuration>0?1:-1,videotag:e.videoPublishDuration>0?1:-1,lts:i,elapse:i-r.startTime,joinChannelSuccessElapse:i-(r.lastJoinSuccessTime||i),peerPublishDurationVideo:e.videoPublishDuration,peerPublishDurationAudio:e.audioPublishDuration});this.send({type:sO.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=function(t,e,r){const n=t[e];if(!n||"string"!=typeof n)return[t];t[e]="";const i=gA(JSON.stringify(t));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=r-i||(s[s.length]=dA(dA({},t),{},{[e]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=dA(dA({},t),{},{[e]:n.substring(o)})),s}(EO(EO(EO({},n),e),{},{elapse:i-r.startTime,lts:i,productType:"WebRTC"}),"payload",1300);o.forEach((t=>this.send({type:sO.WORKER_EVENT,data:t},!0)))}apworkerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:sO.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{elapse:i-r.startTime,lts:i,extend:e.extend||void 0});this.send({type:sO.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=EO(EO(EO({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:sO.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(t,e){if(this.customReportCount+=e.length,this.customReportCount>HA("CUSTOM_REPORT_LIMIT"))throw new _A(hA.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const r=Date.now(),n=e.map((e=>({type:sO.USER_ANALYTICS,data:EO(EO({sid:t},e),{},{lts:r})})));try{HA("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(t){throw eO.error("send custom report message failed",t.toString()),new _A(hA.CUSTOM_REPORT_SEND_FAILED,t.message)}}sendApiInvoke(t){const e=HA("NOT_REPORT_EVENT");if(t.tag&&sl(e)&&sl(e).call(e,t.tag))return!1;if(null===t.sid)return this.apiInvokeUploadPendingItems.push(t),!1;const r=this.baseInfoMap.get(t.sid);if(!r)return this.apiInvokeUploadPendingItems.push(t),!1;const{cname:n,uid:i,cid:o}=r.info;let s;if(t.lts=t.lts||Date.now(),t.error)if(t.error instanceof _A){const{code:e,message:r}=t.error;s=e||(r||t.error.toString())}else s=t.error.toString();const a={invokeId:t.invokeId,sid:t.sid,cname:n,cid:o,uid:i,lts:t.lts,success:t.success,elapse:t.lts-r.startTime,execElapse:t.lts-t.apiInvokeTime,apiName:t.name,options:t.options?JSON.stringify(t.options):void 0,execStates:t.states?JSON.stringify(t.states):void 0,execResult:t.result?JSON.stringify(t.result):void 0,errorCode:t.error?s:void 0,errorMsg:t.error?JSON.stringify(t.error):void 0};return this.send({type:sO.API_INVOKE,data:a},!1),!0}addSid(t){this.sids.add(t)}removeSid(t){this.sids.delete(t)}appendSessionId(){const t=this.apiInvokeUploadPendingItems;if(0===t.length)return;const e=Array.from(this.sids).find((t=>null!==t));e&&t.forEach((t=>{t&&(t.sid=e,this.sendApiInvoke(Object.assign({},t)))})),t.length=0}send(t,e){if(e)return this.keyEventUploadPendingItems.push(t),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(t),this.normalEventUploadPendingItems.length>HA("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(t,e){const r=[],n=[];for(;t.length;){const e=t.shift();r.length<20?r.push(e):n.push(e)}t.push(...n);for(const t of[...r]){var i;if(-1!==this.ltsList.indexOf(t.data.lts))t.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(t.data.lts);else this.ltsList.push(t.data.lts),Yl(i=this.ltsList).call(i,((t,e)=>t-e))}e||(this.lastSendNormalEventTime=Date.now());return HA("ENABLE_EVENT_REPORT")?(r.length&&(HA("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(r):this.postDataToStatsCollector(r)).catch((t=>r=>{HA("EVENT_REPORT_RETRY")&&(e?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(t):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(t),this.normalEventUploadPendingItems.length>HA("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-HA("NORMAL_EVENT_QUEUE_CAPACITY")),eO.warning("report: drop normal events"))))})(r)),t):t}async postDataToStatsCollector2(t){NA.networkState===IA.OFFLINE&&await Jf.race([NA.onlineWaiter,bA(2*wA.maxRetryTimeout)]);const e=t=>{let e=new Uint8Array;return t.forEach((t=>{const r=function(t){return(new TextEncoder).encode(t)}(JSON.stringify(t.data)),n=new ArrayBuffer(5),i=(t=>{let e=0;return Object.entries(sO).forEach((r=>{let[n,i]=r;i===t.type&&(e=cO[n])})),e})(t),o=new DataView(n);o.setUint16(0,r.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),e=AA(e,new Uint8Array(n)),e=AA(e,r)})),e},r="event";let n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(HA("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(r):"https://".concat(HA("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(r);for(let i=0;i<2;i+=1){1===i&&(n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(HA("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(r):"https://".concat(HA("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(r));try{await UA(n,{timeout:1e4,data:e(t),headers:EO(EO({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(t){if(1===i)throw t;continue}return}}async postDataToStatsCollector(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(t=>{const e=t&&t.data.sid&&this.baseInfoMap.get(t.data.sid);return e&&e.info.vid&&+e.info.vid||0})(t[0]),n=r?void 0:this._aid,i={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map((t=>JSON.stringify(t))),vid:r,aid:n};NA.networkState===IA.OFFLINE&&await Jf.race([NA.onlineWaiter,bA(2*wA.maxRetryTimeout)]);const o=e?"/events/proto-raws":"/events/messages";let s=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(HA("EVENT_REPORT_DOMAIN"),"&p=").concat(HA("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(HA("EVENT_REPORT_DOMAIN"),":").concat(HA("STATS_COLLECTOR_PORT")).concat(o));for(let t=0;t<2;t+=1){1===t&&(s=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(HA("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(HA("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(HA("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(HA("STATS_COLLECTOR_PORT")).concat(o)));try{e?await MA(s,{timeout:1e4,data:i}):await UA(s,{timeout:1e4,data:i})}catch(e){if(1===t)throw e;continue}return}}createBaseInfo(t,e){const r=Object.assign({},iO);return r.sid=t,this.baseInfoMap.set(t,{info:r,startTime:e}),r}reportResourceTiming(t,e){const r=performance.getEntriesByName(t),n=r[r.length-1];n&&this.reportApiInvoke(e,{name:"Client.resourceTiming",options:n,tag:SA.TRACER}).onSuccess()}}const pO=new lO;zA.on("REPORT_LOG_UPLOAD",(t=>{t.networkState=NA.networkState,pO.reportApiInvoke(null,{name:"logUploadError",options:t,tag:SA.TRACER}).onSuccess("logUploadError")}));t.AgoraEventUploadId=aO,t.AgoraLogger=tO,t.AgoraRTCError=class extends _A{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),LE(this,"name","AgoraRTCException")}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(t,eO)}throw(){super.throw(eO)}},t.AgoraRTCErrorCode=hA,t.AgoraRTCEvent=oO,t.AgoraRTCEventReport=lO,t.AgoraRTCEventUploadType=sO,t.EVENT_BASE_TEMPLATE=iO,t.EventNameToID=cO,t.LOG_TYPE=nO,t.LOG_UPLOAD_STATE=rO,t.apiInvoke=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,r,n){const i=n.value;if("function"==typeof i){const o=t.className||e.__className__||("AgoraRTCClient"===e.constructor.name?"Client":e.constructor.name);n.value=function(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];let c=s;if(t.argsMap)try{c=t.argsMap(this,...s)}catch(t){eO.warning(t),c=[]}try{JSON.stringify(c)}catch(t){eO.warning("arguments for method ".concat(o,".").concat(String(r)," not serializable for apiInvoke.")),c=[]}const u=(t.report||pO).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(e=this.store)||void 0===e?void 0:e.clientId)||this._ID,name:"".concat(o,".").concat(String(r)),options:c,tag:SA.TRACER,reportResult:t.reportResult},t.throttleTime);try{const e=i.apply(this,s);return e instanceof Jf?e.then((e=>(u.onSuccess(t.reportResult&&e),e))).catch((t=>{throw u.onError(t),t})):(u.onSuccess(t.reportResult&&e),e)}catch(t){throw u.onError(t),t}}}return n}},t.isEventCustomReportParams=function(t){return fA(t.reportId,"params.reportId",0,100,!1),fA(t.category,"params.category",0,100,!1),fA(t.event,"params.event",0,100,!1),fA(t.label,"params.label",0,100,!1),function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(t<r||t>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(t){return"number"==typeof t&&t%1==0}(t))throw new _A(hA.INVALID_PARAMS,"invalid ".concat(e,": the value range is [").concat(r,", ").concat(n,"]. integer only"))}(t.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0},t.logReportBus=zA,t.logger=eO,t.report=pO}));
